/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("fcg.mdg.approvecrv2.DomainSpecParts.CostCenterCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.CostCenter");fcg.mdg.approvecrv2.DomainSpecParts.CostCenterCreate={oCostCenterGeneralForm:"",oCostCenterAddressForm:"",oCostCenterCommForm:"",oCostCenterIndForm:"",oCostCenterDescTable:"",oCostCenterCreateForm:"",oS3Controller:"",i18n:sap.ca.scfld.md.app.Application.getImpl().getResourceBundle(),initialize_Forms:function(s){this.oS3Controller=s;if(this.oCostCenterCreateForm===""){this.oCostCenterCreateForm=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.CostCenterCreate',fcg.mdg.approvecrv2.util.Formatter);}else{this.oCostCenterCreateForm.destroy();this.oCostCenterCreateForm=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.CostCenterCreate',fcg.mdg.approvecrv2.util.Formatter);}sap.ui.getCore().byId("ccCreateDataLayout").removeAllContent();sap.ui.getCore().byId("ccCreateDataLayout").addContent(this.oCostCenterCreateForm);},getQueries:function(s,p,a){this.oS3Controller=a;var q=p+"?$expand=CCTR,CCTR/CCTR2DTxtCCTRRel,CCTR/CCTR2AtthCCTRRel,CCTR/CD_CCTRRESPU,CCTR/CD_COAREA,CCTR/CD_CCTRCGY,CCTR/CD_CCODECCTR,CCTR/CD_CCTRBAREA,CCTR/CD_FUNCCCTR,CCTR/CD_CURRCCTR,"+"CCTR/CD_CC_LAND1,CCTR/CD_CC_REGION,CCTR/CD_CC_SPRAS,CCTR/CCTR2DTxtCCTRRel/CD_LANGU,CCTR/CCTR2AtthCCTRRel/CD_USMD_ACREATED_BY,"+"CCTR/CCTR2PCTRCCTRRel,CCTR/CCTR2NEWCCTRRel";var e=this.oS3Controller.ccHookCreateQuery(q);if(e!==undefined){q=e;}return q;},displayFormData:function(r){var d=new sap.ui.model.json.JSONModel();var e=this.oS3Controller.ccHookModityCreateFormData(r);if(e!==undefined){r=e;}d.setData(r);sap.ui.getCore().byId("ccCreateSimpleForm").setModel(d);if(r.CCTR.CCTR2DTxtCCTRRel.results.length>0){sap.ui.getCore().byId("CreateDescriptionTable").setModel(d);var i=this.descrValueTemplate();var a=this.oS3Controller.ccHookCreateDescTemplate(i);if(a!==undefined){i=a;}sap.ui.getCore().byId("CreateDescriptionTable").bindItems('/CCTR/CCTR2DTxtCCTRRel/results',i,'','');}else{this.hideTable();}this.hideSection();this.createCcAttachmentList(r);this.oS3Controller.ccHookAddCCData(r);},hideSection:function(){if(sap.ui.getCore().byId("ccTitle").getText()===""&&sap.ui.getCore().byId("ccName1").getText()===""&&sap.ui.getCore().byId("ccName2").getText()===""&&sap.ui.getCore().byId("ccName3").getText()===""&&sap.ui.getCore().byId("ccName4").getText()===""&&sap.ui.getCore().byId("Street").getText()===""&&sap.ui.getCore().byId("PostalCode").getText()===""&&sap.ui.getCore().byId("City").getText()===""&&sap.ui.getCore().byId("District").getText()===""&&sap.ui.getCore().byId("Country").getText()===""&&sap.ui.getCore().byId("Region").getText()===""&&sap.ui.getCore().byId("POBoxPostalCode").getText()===""&&sap.ui.getCore().byId("TaxJurisdiction").getText()===""&&sap.ui.getCore().byId("POBox").getText()===""&&sap.ui.getCore().byId("CreateAddressTitle")!==undefined){this.oS3Controller.ccHookHideCreateAddressSection();}if(sap.ui.getCore().byId("Language").getText()===""&&sap.ui.getCore().byId("Telephone1").getText()===""&&sap.ui.getCore().byId("Telephone2").getText()===""&&sap.ui.getCore().byId("FaxNumber").getText()===""&&sap.ui.getCore().byId("TeletexNumber").getText()===""&&sap.ui.getCore().byId("TelexNumber").getText()===""&&sap.ui.getCore().byId("TeleboxNumber").getText()===""&&sap.ui.getCore().byId("PrinterName").getText()===""&&sap.ui.getCore().byId("ccDataLine").getText()===""&&sap.ui.getCore().byId("CreateCommunicationTitle")!==undefined){this.oS3Controller.ccHookHideCreateCommSection();}if(sap.ui.getCore().byId("RecordQtyIndicator").getText()===""&&sap.ui.getCore().byId("ccActualPrimaryCostsIndicator").getText()===""&&sap.ui.getCore().byId("ccActualSecondaryCosts").getText()===""&&sap.ui.getCore().byId("ccPlanPrimaycostIndicator").getText()===""&&sap.ui.getCore().byId("ccPlanSecondaryCosts").getText()===""&&sap.ui.getCore().byId("ActualRevenuesIndicator").getText()===""&&sap.ui.getCore().byId("PlanRevenuesIndicator").getText()===""&&sap.ui.getCore().byId("CommitmentUpdateIndicator").getText()===""&&sap.ui.getCore().byId("CreateIndicatorsTitle")!==undefined){sap.ui.getCore().byId("CreateIndicatorsTitle").destroy();}},hideTable:function(){sap.ui.getCore().byId("CreateDescriptionTable").setVisible(false);},descrValueTemplate:function(){var i=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{CD_LANGU/Description} ({CD_LANGU/Code})"}),new sap.m.Text({text:{path:"TXTSH",formatter:fcg.mdg.approvecrv2.util.Formatter.noValue}}),new sap.m.Text({text:{path:"TXTMI",formatter:fcg.mdg.approvecrv2.util.Formatter.noValue}})]});return i;},createCcAttachmentList:function(r){var a=sap.ui.getCore().byId("ccCreateAttachFileUpload");var c=new sap.m.CustomListItem({});for(var i=0;i<r.CCTR.CCTR2AtthCCTRRel.results.length;i++){var l="";if(r.CCTR.CCTR2AtthCCTRRel.results[i].USMD_LINK!==""){l=r.CCTR.CCTR2AtthCCTRRel.results[i].USMD_LINK;}else l=r.CCTR.CCTR2AtthCCTRRel.results[i].__metadata.media_src;var f=fcg.mdg.approvecrv2.util.Formatter.dateFormatter(r.CCTR.CCTR2AtthCCTRRel.results[i].USMD_ACREATED_AT)+" "+this.i18n.getText('AttachBy')+" ";var C=" "+r.CCTR.CCTR2AtthCCTRRel.results[i].CD_USMD_ACREATED_BY.Description+"("+r.CCTR.CCTR2AtthCCTRRel.results[i].CD_USMD_ACREATED_BY.Code+")";var o=new sap.m.Text({text:f+" "+C});var L=false;var A=new sap.m.Link({text:r.CCTR.CCTR2AtthCCTRRel.results[i].USMD_TITLE,target:"_blank",href:l,wrapping:true,subtle:false,emphasized:L}).addStyleClass("padding_bottom");var v=new sap.m.VBox({items:[A,o]}).addStyleClass("padding_left");var I=fcg.mdg.approvecrv2.util.Formatter.mimeTypeFormatter(r.CCTR.CCTR2AtthCCTRRel.results[i].USMD_FILE_TYPE);I=new sap.ui.core.Icon({src:I,size:"3.0em"});var h=new sap.m.HBox({items:[I,v]}).addStyleClass("Hbox_padding");c.addContent(h);a.addItem(c);}if(a.getItems().length===0){sap.ui.getCore().byId("ccCreateAttachFileUpload").destroy();}}};
