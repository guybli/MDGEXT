/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange");jQuery.sap.require("fcg.mdg.approvecrv2.util.DataAccess");fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange={oS3ControllerChng:"",oMatPlantChangeTable:"",oMatPlantChangePanelData:"",oMatValuationChangePanelData:"",vLblPlantValuationCurrency:"",aValChangedData:"",vNotMaint:"",vDeleted:"",vAdded:"",vValFlag:0,vMaterial:"",vLblPlant:"",vLblStrg:"",vLblInsp:"",vLblMrpAr:"",vLblPrdVer:"",vOldValChng:"",vNewValChng:"",oChangePlants:"",vNoDataTxt:"",oPlantChngTable:"",oChngItemTemp:"",vCreated:"C",vUpdated:"U",vEDeleted:"D",vEntDltd:"",aPlantChngd:{oDataChngd:[]},oS3Controller:"",i18n:sap.ca.scfld.md.app.Application.getImpl().getResourceBundle(),initializePlantChangetabl:function(s){this.oS3ControllerChng=s;this.vNoDataTxt=this.i18n.getText("Nodata");this.vNotMaint="("+this.i18n.getText("PC_NOT_MAIN")+")";this.vDeleted="("+this.i18n.getText("PC_DELETED")+")";this.vAdded=this.i18n.getText("PC_ADDED");this.vEntDltd=this.i18n.getText("PC_DELETED");this.vLblPlant=this.i18n.getText("plant");this.vLblStrg=this.i18n.getText("StorageLoctn")+", "+this.vLblPlant;this.vLblInsp=this.i18n.getText("Mat_InspctnType")+", "+this.vLblPlant;this.vLblMrpAr=this.i18n.getText("Mat_MRPArea")+", "+this.vLblPlant;this.vLblPrdVer=this.i18n.getText("Mat_Prd_Ver")+", "+this.vLblPlant;if(sap.ui.getCore().byId("matCreatePlantDataLayout")!==undefined){sap.ui.getCore().byId("matCreatePlantDataLayout").destroy();}},displayPlantChangeData:function(r,v){var P,a,C,A,o,O,n,N,b,c;var I=this.createChngLogTblTemplt();I.attachPress({Entity:'general',name:'matPlantPnlChngDetail'},v.navtoSubDetail,v);var d={oDataItems:[]};this.aPlantChngd={oDataChngd:[]};this.vMaterial=r.MATERIAL;var g=r.MATERIAL2MARCRel.results;for(var i=0;i<g.length;i++){P=g[i].WERKS;a=g[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);if(g[i].ChangeData.results.length>0){if(g[i].ChangeData.results[0].EntityAction===this.vCreated){c=this.setChngBindingItms(C,"",this.vAdded,"",P);d.oDataItems.push(c);}else if(g[i].ChangeData.results[0].EntityAction===this.vUpdated){this.oChangePlants={"vChngdPlant":P};this.aPlantChngd.oDataChngd.push(this.oChangePlants);for(var j=0;j<g[i].ChangeData.results.length;j++){A=g[i].ChangeData.results[j].Attribute;o=g[i].ChangeData.results[j].OldValue;O=g[i].ChangeData.results[j].OldValueText;n=g[i].ChangeData.results[j].NewValue;N=g[i].ChangeData.results[j].NewValueText;b=g[i].ChangeData.results[j].AttributeDesc;if(A==='MMSTA'||A==='XCHPF'||A==='LOGGR'||A==='MMSTA'||A==='PRCMARCBA'||A==='SERNP'||A==='AUFMRPFC'||A==='PERIV'||A==='MTVFP'||A==='MFRGR'||A==='LADGR'||A==='CASMARCFT'||A==='STEMARCFT'||A==='GPNMARCFT'||A==='HERKL'||A==='HERMARCFT'||A==='MTVER'||A==='STAMARCFT'||A==='EXPME'||A==='MOGMARCFT'||A==='MOWMARCFT'||A==='PRENO'||A==='PREFE'||A==='PRENE'||A==='EKGRP'||A==='TAIPURTAX'){this.getKeyDesc(o,n,O,N);if(A==='MTVFP'){b="";b=this.i18n.getText("Mat_Avl_ChkGrp");}else if(A==='PREFE'){b="";b=this.i18n.getText("Mat_Pref_Ind");}c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='KZDKZ'||A==='XMCNG'||A==='ITARK'||A==='KAUTB'||A==='KORDB'||A==='INSMK'||A==='KZKRI'){this.getCheckBoxValue(o,n,O,N);if(A==='KAUTB'){b="";b=this.i18n.getText("Mat_AutoPO_Alwd");}else if(A==='KORDB'){b="";b=this.i18n.getText("Mat_Src_Rqrmnt");}c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='VBAMG'){var u=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(u!==""){O=u.OldValue;}this.getQtyWithUnit(o,n,O,N);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='VBEAZ'||A==='VRVEZ'){this.getValueZeroes(o,n);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='MMSTD'||A==='PREND'||A==='PRENG'){this.getDate(o,n);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='WZEIT'){this.getTextDays(o,n);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}else if(A==='ATPKZ'||A==='KZPSP'||A==='PRENC'||A==='PERMRPFC'){this.getDomSpcValue(o,n,O,N);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}}var B=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(B!==""){this.getTextOnly(B.OldValue,B.NewValue);c=this.setChngBindingItms(C,B.AttributeDesc,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}}}else{this.oChangePlants={"vChngdPlant":P};this.aPlantChngd.oDataChngd.push(this.oChangePlants);}}for(var p=0;p<this.aPlantChngd.oDataChngd.length;p++){for(var i=0;i<r.MATERIAL2MARCBASICRel.results.length;i++){P=r.MATERIAL2MARCBASICRel.results[i].WERKS;if(P===this.aPlantChngd.oDataChngd[p].vChngdPlant&&r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results.length>0&&r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[0]!==undefined){a=r.MATERIAL2MARCBASICRel.results[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);for(var j=0;j<r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results.length;j++){A=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].Attribute;if(A==='TAIPURTAX'){o=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].OldValue;O=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].OldValueText;n=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].NewValue;N=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].NewValueText;b=r.MATERIAL2MARCBASICRel.results[i].MARCBASIC2MLANPURCHRel.results[0].ChangeData.results[j].AttributeDesc;this.getKeyDesc(o,n,O,N);c=this.setChngBindingItms(C,b,this.vNewValChng,this.vOldValChng,P);d.oDataItems.push(c);}}}}}if(d.oDataItems.length>0){sap.ui.getCore().byId("matChangePlantDataLayout").removeAllContent();this.oMatPlantChangeTable="";this.oMatPlantChangeTable=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);sap.ui.getCore().byId("matChangePlantDataLayout").addContent(this.oMatPlantChangeTable);this.oMatPlantChangeTable.setGrowing(true);this.initializePlantChangepanel(v);var e=new sap.ui.model.json.JSONModel();e.setData(d);this.oMatPlantChangeTable.setModel(e);var f=new sap.ui.model.Sorter('Plant');this.oMatPlantChangeTable.bindItems('/oDataItems',I,f,'');}else{sap.ui.getCore().byId("matChangePlantDataLayout").removeAllContent();this.initializePlantChangepanel(v);}},getChangedPlant:function(){return this.aPlantChngd;},initializePlantChangepanel:function(s){this.oMatPlantChangePanelData="";this.oMatPlantChangePanelData=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MaterialPlantChange',this);sap.ui.getCore().byId("matChangePlantDataLayout").addContent(this.oMatPlantChangePanelData);this.checkPanelVisibleFlag();if(sap.ui.getCore().byId("MatReqPlanningPanelChng")!==undefined){sap.ui.getCore().byId("MatReqPlanningPanelChng").attachExpand("",s.onPanelExpand,s);}if(sap.ui.getCore().byId("MatForecastingPanelChng")!==undefined){sap.ui.getCore().byId("MatForecastingPanelChng").attachExpand("",s.onPanelExpand,s);}if(sap.ui.getCore().byId("MatQltyMngmntPanelChng")!==undefined){sap.ui.getCore().byId("MatQltyMngmntPanelChng").attachExpand("",s.onPanelExpand,s);}if(sap.ui.getCore().byId("MatWorkSchdlngPanelChng")!==undefined){sap.ui.getCore().byId("MatWorkSchdlngPanelChng").attachExpand("",s.onPanelExpand,s);}if(sap.ui.getCore().byId("MatStrgCstngPanelChng")!==undefined){sap.ui.getCore().byId("MatStrgCstngPanelChng").attachExpand("",s.onPanelExpand,s);}if(sap.ui.getCore().byId("MatValuationPanelChng")!==undefined){sap.ui.getCore().byId("MatValuationPanelChng").attachExpand("",s.onPanelExpand,s);}},checkPanelVisibleFlag:function(){var m=fcg.mdg.approvecrv2.util.Formatter.getMatVisibiltyBasedOnParameter('D');this.destroyPanel(m,"MatReqPlanningPanelChng");var f=fcg.mdg.approvecrv2.util.Formatter.getMatVisibiltyBasedOnParameter('P');this.destroyPanel(f,"MatForecastingPanelChng");var q=fcg.mdg.approvecrv2.util.Formatter.getMatVisibiltyBasedOnParameter('Q');this.destroyPanel(q,"MatQltyMngmntPanelChng");var w=fcg.mdg.approvecrv2.util.Formatter.getMatVisibiltyBasedOnParameter('A');this.destroyPanel(w,"MatWorkSchdlngPanelChng");},destroyPanel:function(p,P){if(p===false&&sap.ui.getCore().byId(P)!==undefined){sap.ui.getCore().byId(P).destroy();}},initializePanelData:function(P,v,V){var a,b,C,A,o,O,n,N,c,d;var e={oPlantPnlData:[]};switch(v){case"MatReqPlanningPanelChng":var m;if(m===undefined){m=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);}this.getPlantMrpChangelog(P,v,V,m);break;case"MatForecastingPanelChng":var f;if(f===undefined){f=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);}var F=P.MATERIAL2MARCFRRel.results;for(var p=0;p<this.aPlantChngd.oDataChngd.length;p++){for(var i=0;i<F.length;i++){a=F[i].WERKS;if(a===this.aPlantChngd.oDataChngd[p].vChngdPlant){if(F[i].ChangeData.results[0]!==undefined){b=F[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);for(var j=0;j<F[i].ChangeData.results.length;j++){A=F[i].ChangeData.results[j].Attribute;O=F[i].ChangeData.results[j].OldValue;c=F[i].ChangeData.results[j].OldValueText;n=F[i].ChangeData.results[j].NewValue;N=F[i].ChangeData.results[j].NewValueText;d=F[i].ChangeData.results[j].AttributeDesc;if(A==='VRBMT'||A==='VRBWK'||A==='PRMOD'||A==='KZINI'||A==='MODAW'||A==='OPGRA'||A==='MODAV'){this.getKeyDesc(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='AUTRU'||A==='KZKFK'||A==='KZPAR'){this.getCheckBoxValue(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='VRBFK'||A==='PERAN'||A==='PERIN'||A==='ANZPR'||A==='FIMON'||A==='PERIO'||A==='SIGGR'||A==='GEWMARCPA'||A==='ALPHA'||A==='BETA1'||A==='GAMMA'||A==='DELTA'){this.getValueZeroes(O,n);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='VRBDT'||A==='PRDAT'){this.getDate(O,n);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}}}}}}this.setChangedDataPanel(e,v,"MatForecastingPanel",V,"Plant",f);break;case"MatQltyMngmntPanelChng":var q,g,I,h,r;if(q===undefined){q=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);}var Q=P.MATERIAL2MARCQTMNGRel.results;var s=P.MATERIAL2MARCBASICRel.results;for(var i=0;i<Q.length;i++){if(Q[i].ChangeData.results[0]!==undefined&&Q[i].ChangeData.results[0].EntityAction===this.vUpdated){a=Q[i].WERKS;b=Q[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);g=a+"a"+"00000000";for(var j=0;j<Q[i].ChangeData.results.length;j++){A=Q[i].ChangeData.results[j].Attribute;O=Q[i].ChangeData.results[j].OldValue;c=Q[i].ChangeData.results[j].OldValueText;n=Q[i].ChangeData.results[j].NewValue;N=Q[i].ChangeData.results[j].NewValueText;d=Q[i].ChangeData.results[j].AttributeDesc;if(A==='QMATA'||A==='QZGTP'||A==='QSSYS'||A==='SSQSS'){this.getKeyDesc(O,n,c,N);if(A==='QMATA'){d="";d=this.i18n.getText("AuthrztnGrp_ActInQM");}else if(A==='QSSYS'){d="";d=this.i18n.getText("RqrdQMSys_Vndr");}o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblPlant);e.oPlantPnlData.push(o);}else if(A==='KZDKZ'){this.getCheckBoxValue(O,n,c,N);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblPlant);e.oPlantPnlData.push(o);}else if(A==='PRFRQ'){this.getValueZeroes(O,n);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblPlant);e.oPlantPnlData.push(o);}}}}for(var l=0;l<this.aPlantChngd.oDataChngd.length;l++){for(var i=0;i<s.length;i++){a=s[i].WERKS;if(a===this.aPlantChngd.oDataChngd[l].vChngdPlant){b=s[i].WERKS__TXT;b=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);for(var k=0;k<s[i].MARCBASIC2QMATBASICRel.results.length;k++){h=s[i].MARCBASIC2QMATBASICRel.results[k].ART;r=s[i].MARCBASIC2QMATBASICRel.results[k].ART__TXT;r=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(h,r);C=r+", "+b;I=("0000000"+h).slice(-8);g=a+"b"+I;if(s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[0]!==undefined){if(s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[0].EntityAction===this.vUpdated){for(var j=0;j<s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results.length;j++){A=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].Attribute;O=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].OldValue;c=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].OldValueText;n=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].NewValue;N=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].NewValueText;d=s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[j].AttributeDesc;if(A==='APA'){this.getCheckBoxValue(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}else if(A==='STICHPRVE'||A==='DYNREGEL'||A==='QKZVERF'||A==='AUFNR_CO'){this.getKeyDesc(O,n,c,N);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}else if(A==='AKTIV'||A==='INSMK_Q'||A==='AFR'||A==='SPEZUEBER'||A==='PPL'||A==='MS_FLAG'||A==='CONF'||A==='APP'||A==='MER'||A==='HPZ'||A==='MST'||A==='MPB'||A==='DYN'||A==='AVE'||A==='EIN'||A==='KZPRFKOST'){this.getCheckBoxDefValue(O,n);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}else if(A==='SPROZ'||A==='MPDAU'||A==='QPMAT'){this.getValueZeroes(O,n);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}else if(A==='CHG'){this.getDomSpcValue(O,n,c,N);o=this.setQMBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}}}else if(s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[0].EntityAction===this.vCreated){o=this.setQMBindingItms(C,"",this.vAdded,"",a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}else if(s[i].MARCBASIC2QMATBASICRel.results[k].ChangeData.results[0].EntityAction===this.vEDeleted){o=this.setQMBindingItms(C,"",this.vEntDltd,"",a,h,g,this.vLblInsp);e.oPlantPnlData.push(o);}}}}}}this.setChangedDataPanel(e,v,"MatQltyMngmntPanel",V,"PlantSort",q);break;case"MatWorkSchdlngPanelChng":var w;if(w===undefined){w=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);}var W=P.MATERIAL2MARCWRKSDRel.results;for(var i=0;i<W.length;i++){if(W[i].ChangeData.results[0]!==undefined&&W[i].ChangeData.results[0].EntityAction===this.vUpdated){a=W[i].WERKS;b=W[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);for(var j=0;j<W[i].ChangeData.results.length;j++){A=W[i].ChangeData.results[j].Attribute;O=W[i].ChangeData.results[j].OldValue;c=W[i].ChangeData.results[j].OldValueText;n=W[i].ChangeData.results[j].NewValue;N=W[i].ChangeData.results[j].NewValueText;d=W[i].ChangeData.results[j].AttributeDesc;if(A==='FEVMARCWR'||A==='FRTME'||A==='MATGR'||A==='OCMPF'||A==='SFCMARCWR'){this.getKeyDesc(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='KZPRO'||A==='UEETK'){this.getCheckBoxValue(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='BASMG'){var u=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(u!==""){c=u.OldValue;}this.getQtyWithUnit(O,n,c,N);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}else if(A==='UEETO'||A==='UNETO'||A==='DZEIT'||A==='BEARZ'||A==='BASMG'||A==='RUEZT'||A==='TRANZ'){this.getValueZeroes(O,n);o=this.setChngBindingItms(C,d,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}}var B=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(B!==""){this.getTextOnly(B.OldValue,B.NewValue);o=this.setChngBindingItms(C,B.AttributeDesc,this.vNewValChng,this.vOldValChng,a);e.oPlantPnlData.push(o);}}}this.setChangedDataPanel(e,v,"MatWorkSchdlngPanel",V,"Plant",w);break;case"MatStrgCstngPanelChng":var t;if(t===undefined){t=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);}this.getCstngStrgChngLog(P,v,V,t);break;case"MatValuationPanelChng":var x=this.i18n.getText("plant");var y=this.i18n.getText("Mat_Val_Type");var z=this.i18n.getText("Mat_Val_Cur");this.vLblPlantValuation=y+", "+x;this.vLblPlantValuationCurrency=z+", "+this.vLblPlantValuation;sap.ui.getCore().byId("MatValuationPanelChng").destroyContent();this.oMatValuationChangePanelData="";this.oMatValuationChangePanelData=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.MatChangeTableReuse',this);sap.ui.getCore().byId("MatValuationPanelChng").addContent(this.oMatValuationChangePanelData);this.oMatValuationChangePanelData.setGrowing(true);this.getValuationChngLog(P,v,V);break;}this.oS3ControllerChng.matHookModifyPlantChngPanelData(v,V,P);},getValuationChngLog:function(P,v,s){var a,b,C,A,o,O,n,N,c,d,e,B;var V={results:[]};var f=P.data.__batchResponses[0].data.MATERIAL2MARCBASICRel;this.aValChangedData=f;for(var p=0;p<this.aPlantChngd.oDataChngd.length;p++){for(var i=0;i<f.results.length;i++){a=f.results[i].WERKS;if(a===this.aPlantChngd.oDataChngd[p].vChngdPlant){for(var j=0;j<f.results[i].MARCBASIC2MBEWCSTNGRel.results.length;j++){b=f.results[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);for(var k=0;k<f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results.length;k++){A=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].Attribute;O=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].OldValue;c=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].OldValueText;n=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].NewValue;N=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].NewValueText;d=f.results[i].MARCBASIC2MBEWCSTNGRel.results[j].ChangeData.results[k].AttributeDesc;if(A==='HRKFT'||A==='KOSCSTNG'||A==='EKALR'){this.getKeyDesc(O,n,c,N);if(A==='EKALR'){d="";d=this.i18n.getText("Mat_Cost_Quan_Str");}o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlant,"Costing",f.results[i].WERKS__TXT);V.results.push(o);}else if(A==='HKMAT'){this.getOriginDesc(O,n,c,N);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlant,"Costing",f.results[i].WERKS__TXT);V.results.push(o);}}}for(var j=0;j<f.results[i].MARCBASIC2MBEWVALUARel.results.length;j++){var F=0;a=f.results[i].WERKS;b=f.results[i].WERKS__TXT;var g=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(a,b);for(var l=0;l<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results.length;l++){if(this.vValFlag===0){A=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[l].Attribute;e=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[l].EntityAction;if(A==="BWTAR"){F=this.getNewValue(e);}if(F===1&&A==="BWTAR"){if(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===""){B=this.i18n.getText("Valuation_Header");f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR=this.i18n.getText("Valuation_Header");}else{B=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,this.i18n.getText("Mat_Val_Split"));}C=B+", "+g;this.vValFlag=1;o=this.setValuationBindingItms(C,"",this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuation,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"));V.results.push(o);}}}this.vValFlag=0;if(F===0){for(var k=0;k<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results.length;k++){A=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].Attribute;O=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].OldValue;c=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].OldValueText;n=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].NewValue;N=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].NewValueText;d=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].AttributeDesc;if(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===""||f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===this.i18n.getText("Valuation_Header")){B=this.i18n.getText("Valuation_Header");f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR=this.i18n.getText("Valuation_Header");}else{B=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,this.i18n.getText("Mat_Val_Split"));}C=B+", "+g;e=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWVALCTNGRel.ChangeData.results[k].EntityAction;if(A==='PEINH'||A==='EKLAS'||A==='QKLAS'||A==='BWTTY'||A==='BKLAS'||A==='MBEWMLMAA'||A==='MBEWMLAST'||A==='MYPACTNG'){this.getKeyDesc(O,n,c,N);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuation,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"));V.results.push(o);}else if(A==='VJBWH'||A==='BWPH1'||A==='BWPRH'||A==='VJBWS'||A==='BWPS1'||A==='BWPRS'||A==='BWPEI'||A==='ABWKZ'||A==='FZKPRS'||A==='FZPLPR'||A==='STPRS'||A==='VERPR'||A==='STPRV'||A==='FZPLP3'||A==='FZPLP2'||A==='FZPLP1'){this.getValueZeroes(O,n);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuation,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"));V.results.push(o);}else if(A==='FXLIFO'){this.getOriginDesc(O,n,c,N);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuation,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"));V.results.push(o);}else if(A==='FZKDAT'||A==='FZPLD1'||A==='FZPLD2'||A==='FZPLD3'){this.getDate(O,n);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuation,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"));V.results.push(o);}}for(var k=0;k<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results.length;k++){var h=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].CURTP;for(var l=0;l<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results.length;l++){var m=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].CURTP;A=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].Attribute;O=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].OldValue;c=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].OldValueText;n=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].NewValue;N=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].NewValueText;d=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].AttributeDesc;if(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===""||f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===this.i18n.getText("Valuation_Header")){B=this.i18n.getText("Valuation_Header");f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR=this.i18n.getText("Valuation_Header");}else{B=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,this.i18n.getText("Mat_Val_Split"));}var q=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].CURTP,f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].CURTP__TXT);C=q+", "+B+", "+g;e=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLACRel.results[k].ChangeData.results[l].EntityAction;if(A==='PEINHMLAC'||A==='ZPRSDAT'){this.getKeyDesc(O,n,c,N);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuationCurrency,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"),m);V.results.push(o);}else if(A==='ZKPRS'){this.getValueZeroes(O,n);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuationCurrency,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"),m);V.results.push(o);}}for(var p=0;p<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results.length;p++){if(h===f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].CURTP){for(var l=0;l<f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results.length;l++){var m=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].CURTP;A=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].Attribute;O=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].OldValue;c=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].OldValueText;n=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].NewValue;N=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].NewValueText;d=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].AttributeDesc;if(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===""||f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR===this.i18n.getText("Valuation_Header")){B=this.i18n.getText("Valuation_Header");f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR=this.i18n.getText("Valuation_Header");}else{B=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,this.i18n.getText("Mat_Val_Split"));}var q=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[k].CURTP,f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[k].CURTP__TXT);C=q+", "+B+", "+g;e=f.results[i].MARCBASIC2MBEWVALUARel.results[j].MBEWVALUA2MBEWMLVALRel.results[p].ChangeData.results[l].EntityAction;if(A==='BDATJ'||A==='STPRSMLVL'||A==='PEINHMLVL'||A==='VPRSVMLVL'){this.getKeyDesc(O,n,c,N);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuationCurrency,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"),m);V.results.push(o);}else if(A==='PVPRS'){this.getValueZeroes(O,n);o=this.setValuationBindingItms(C,d,this.vNewValChng,this.vOldValChng,a,this.vLblPlantValuationCurrency,f.results[i].MARCBASIC2MBEWVALUARel.results[j].BWTAR,b,this.i18n.getText("Mat_Val_Split"),m);V.results.push(o);}}}}}}F=0;}}}}this.aValdetailchngddata=V;if(V.results.length>0){var r=new sap.ui.model.json.JSONModel();r.setData(V);var I=this.createChngLogTblTemplt();I.attachPress({Entity:'MatValuationPanel',name:'matPlantPnlChngDetail'},s.navtoSubDetail,s);this.oMatValuationChangePanelData.setModel(r);this.oMatValuationChangePanelData.bindItems('/results',I,'','');}else{var t=sap.ui.getCore().byId("MatValuationPanelChng");fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.setNoDataText(t,this.vNoDataTxt);}},getValuationDetailData:function(){return this.aValdetailchngddata;},getCstngStrgChngLog:function(c,C,s,o){var S,p,a,b,d;var P,v,e,A,f,O,n,N,g,h;var m={oPlantPnlData:[]};a=c.MATERIAL2MARCSTORERel.results;b=c.MATERIAL2MARCCSTNGRel.results;d=c.MATERIAL2MARCBASICRel.results;for(var i=0;i<a.length;i++){if(a[i].ChangeData.results[0]!==undefined&&a[i].ChangeData.results[0].EntityAction===this.vUpdated){P=a[i].WERKS;v=a[i].WERKS__TXT;e=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,v);p=P+"0000";S="";for(var j=0;j<a[i].ChangeData.results.length;j++){A=a[i].ChangeData.results[j].Attribute;O=a[i].ChangeData.results[j].OldValue;g=a[i].ChangeData.results[j].OldValueText;n=a[i].ChangeData.results[j].NewValue;N=a[i].ChangeData.results[j].NewValueText;h=a[i].ChangeData.results[j].AttributeDesc;if(A==='AUSME'||A==='ROTATION'||A==='ABCMARCST'){this.getKeyDesc(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}else if(A==='CCFIX'){this.getCheckBoxValue(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}else if(A==='UCHKZ'){this.getDomSpcValue(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}}}}for(var i=0;i<b.length;i++){if(b[i].ChangeData.results[0]!==undefined&&b[i].ChangeData.results[0].EntityAction===this.vUpdated){P=b[i].WERKS;v=b[i].WERKS__TXT;e=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,v);p=P+"0000";S="";for(var j=0;j<b[i].ChangeData.results.length;j++){A=b[i].ChangeData.results[j].Attribute;O=b[i].ChangeData.results[j].OldValue;g=b[i].ChangeData.results[j].OldValueText;n=b[i].ChangeData.results[j].NewValue;N=b[i].ChangeData.results[j].NewValueText;h=b[i].ChangeData.results[j].AttributeDesc;if(A==='AWSMARCCS'||A==='APLAL'||A==='PLNNR'||A==='PLNTY'||A==='SOBMARCCS'||A==='STLAN'||A==='STLAL'||A==='FVIDK'){this.getKeyDesc(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}else if(A==='NCOST'||A==='FXPRU'||A==='KZKUP'){this.getCheckBoxValue(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}else if(A==='APLAL'){this.getValueZeroes(O,n);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}else if(A==='LOSGR'){var u=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(u!==""){g=u.OldValue;}this.getQtyWithUnit(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}}var B=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(B!==""){this.getTextOnly(B.OldValue,B.NewValue);f=this.setStrgCstngBindingItms(e,B.AttributeDesc,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblPlant);m.oPlantPnlData.push(f);}}}for(var l=0;l<this.aPlantChngd.oDataChngd.length;l++){for(var i=0;i<d.length;i++){P=d[i].WERKS;if(P===this.aPlantChngd.oDataChngd[l].vChngdPlant){v=d[i].WERKS__TXT;v=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,v);for(var k=0;k<d[i].MARCBASIC2MARDSTORRel.results.length;k++){S=d[i].MARCBASIC2MARDSTORRel.results[k].LGORT;var q=d[i].MARCBASIC2MARDSTORRel.results[k].LGORT__TXT;q=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(S,q);e=q+", "+v;p=P+S;if(d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[0]!==undefined){if(d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[0].EntityAction===this.vUpdated){for(var j=0;j<d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results.length;j++){A=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].Attribute;O=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].OldValue;g=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].OldValueText;n=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].NewValue;N=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].NewValueText;h=d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[j].AttributeDesc;if(A==='LWMMARDST'||A==='LGPBE'){this.getKeyDesc(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblStrg);m.oPlantPnlData.push(f);}}}else if(d[i].MARCBASIC2MARDSTORRel.results[k].ChangeData.results[0].EntityAction===this.vCreated){f=this.setStrgCstngBindingItms(e,"",this.vAdded,"",P,S,p,this.vLblStrg);m.oPlantPnlData.push(f);}}}for(var k=0;k<d[i].MARCBASIC2MARDMRPRel.results.length;k++){S=d[i].MARCBASIC2MARDMRPRel.results[k].LGORT;var q=d[i].MARCBASIC2MARDMRPRel.results[k].LGORT__TXT;q=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(S,q);e=q+", "+v;p=P+S;if(d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[0]!==undefined){if(d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[0].EntityAction===this.vUpdated){for(var j=0;j<d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results.length;j++){A=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].Attribute;O=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].OldValue;g=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].OldValueText;n=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].NewValue;N=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].NewValueText;h=d[i].MARCBASIC2MARDMRPRel.results[k].ChangeData.results[j].AttributeDesc;if(A==='LSOMARDMR'||A==='DISKZ'){this.getKeyDesc(O,n,g,N);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblStrg);m.oPlantPnlData.push(f);}else if(A==='LMINB'||A==='LBSTF'){this.getValueZeroes(O,n);f=this.setStrgCstngBindingItms(e,h,this.vNewValChng,this.vOldValChng,P,S,p,this.vLblStrg);m.oPlantPnlData.push(f);}}}}}}}}this.setChangedDataPanel(m,C,"MatStrgCstngPanel",s,"PlantSort",o);},getPlantMrpChangelog:function(M,v,S,o){var P,a,C,A,b,O,N,c,d,e,f,g,h,q,w;var x={oPlantPnlData:[]};var y=M[0].data.MATERIAL2MARCMRPRel.results;var z=M[0].data.MATERIAL2MRPTXTRel.results;var B=M[1].data.MATERIAL2MARCBASICRel.results;for(var p=0;p<this.aPlantChngd.oDataChngd.length;p++){for(var i=0;i<y.length;i++){P=y[i].WERKS;if(P===this.aPlantChngd.oDataChngd[p].vChngdPlant&&y[i].ChangeData.results[0]!==undefined){a=y[i].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);h=P+"a"+"0000000000";for(var j=0;j<y[i].ChangeData.results.length;j++){A=y[i].ChangeData.results[j].Attribute;O=y[i].ChangeData.results[j].OldValue;d=y[i].ChangeData.results[j].OldValueText;N=y[i].ChangeData.results[j].NewValue;c=y[i].ChangeData.results[j].NewValueText;e=y[i].ChangeData.results[j].AttributeDesc;if(A==='DISPR'||A==='DGRMRPPP'||A==='MAABC'||A==='DISMM'||A==='DISMRPPP'||A==='LFRMRPPP'||A==='DISLS'||A==='MRPMRPSP'||A==='LAGMRPLS'||A==='MEGMRPLS'||A==='RDPMRPLS'||A==='RWPMRPLS'||A==='SHPMRPLS'||A==='SOBMRPSP'||A==='EPRMRPSP'||A==='LGPMRPSP'||A==='VSPMRPSP'||A==='RGEKZ'||A==='USEQU'||A==='LGFMRPSP'||A==='MISKZ'||A==='STRGR'||A==='VRMOD'||A==='PRGPRODG'||A==='PRWPRODG'||A==='UMREF'||A==='MTVFP'||A==='KZPSP'||A==='KZBED'||A==='MDAMRPMI'||A==='SFEPR'||A==='KZAUS'||A==='NFMAT'||A==='FHOMRPPP'||A==='TXTMRP'){this.getKeyDesc(O,N,d,c);if(A==='MTVFP'){e="";e=this.i18n.getText("Mat_Avl_ChkGrp");}b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='SCHGT'||A==='SAUFT'){this.getCheckBoxValue(O,N,d,c);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='BSTMI'||A==='BSTMA'||A==='BSTFE'||A==='BSTRF'||A==='MABST'){var U=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(U!==""){d=U.OldValue;}this.getQtyWithUnit(O,N,d,c);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='MINBE'||A==='AUSSS'||A==='TAKZT'||A==='LOSFX'||A==='EISBE'||A==='EISLO'||A==='LGRAD'||A==='VINT1'||A==='VINT2'||A==='KAUSF'||A==='WEBAZ'||A==='PLIFZ'||A==='FXHOR'||A==='SHZET'){this.getValueZeroes(O,N);if(A==='SHZET'){e="";e=this.i18n.getText("SaftyTime");}b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='AUSDT'){this.getDate(O,N);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='WZEIT'){this.getTextDays(O,N);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}else if(A==='AHDIS'||A==='ALTSL'||A==='SBDKZ'||A==='BESKZ'||A==='FABKZ'||A==='KZECH'||A==='SHFLG'){this.getDomSpcValue(O,N,d,c);if(A==='SHFLG'){e="";e=this.i18n.getText("SaftyTime");}else if(A==='FABKZ'){e="";e=this.i18n.getText("JIT_DlvrySchdl");}b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}}var D=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(D!==""){this.getTextOnly(D.OldValue,D.NewValue);b=this.setMrpBindingItms(C,D.AttributeDesc,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}}}for(var k=0;k<z.length;k++){P=z[k].WERKS;if(P===this.aPlantChngd.oDataChngd[p].vChngdPlant&&z[k].ChangeData.results[0]!==undefined){a=z[k].WERKS__TXT;C=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);h=P+"a"+"0000000000";for(var l=0;l<z[k].ChangeData.results.length;l++){A=z[k].ChangeData.results[l].Attribute;if(A==='TXTMRP'){O=z[k].ChangeData.results[l].OldValue;d=z[k].ChangeData.results[l].OldValueText;N=z[k].ChangeData.results[l].NewValue;c=z[k].ChangeData.results[l].NewValueText;e=z[k].ChangeData.results[l].AttributeDesc;this.getKeyDesc(O,N,d,c);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,"",h,this.vLblPlant);x.oPlantPnlData.push(b);}}}}for(var m=0;m<B.length;m++){P=B[m].WERKS;if(P===this.aPlantChngd.oDataChngd[p].vChngdPlant){a=B[m].WERKS__TXT;a=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);for(var n=0;n<B[m].MARCBASIC2MDMABASICRel.results.length;n++){f=B[m].MARCBASIC2MDMABASICRel.results[n].BERID;var E=B[m].MARCBASIC2MDMABASICRel.results[n].BERID__TXT;E=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(f,E);C=E+", "+a;w=("000000000"+f).slice(-10);h=P+"b"+w;if(B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[0]!==undefined){if(B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[0].EntityAction===this.vUpdated){for(var r=0;r<B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results.length;r++){A=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].Attribute;O=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].OldValue;d=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].OldValueText;N=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].NewValue;c=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].NewValueText;e=B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[r].AttributeDesc;if(A==='DGRMDMA'||A==='DISMMMDMA'||A==='LFRMDMA'||A==='DISMDMA'||A==='DISLSMDMA'||A==='RDPMDMA'||A==='LAGMDMA'||A==='SOBMDMA'||A==='LGPMDMA'||A==='LGFMDMA'||A==='MRPMDMA'||A==='RWPMDMA'||A==='SHPMDMA'){this.getKeyDesc(O,N,d,c);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,f,h,this.vLblMrpAr);x.oPlantPnlData.push(b);}else if(A==='PLIFZX'){this.getCheckBoxDefValue(O,N);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,f,h,this.vLblMrpAr);x.oPlantPnlData.push(b);}else if(A==='MINBEMDMA'||A==='FXHORMDMA'||A==='BSTRFMDMA'||A==='BSTMAMDMA'||A==='BSTMIMDMA'||A==='BSTFEMDMA'||A==='MABSTMDMA'||A==='LOSFXMDMA'||A==='AUSSSMDMA'||A==='TAKZTMDMA'||A==='PLIFZMDMA'||A==='EISBEMDMA'||A==='LGRADMDMA'){this.getValueZeroes(O,N);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,f,h,this.vLblMrpAr);x.oPlantPnlData.push(b);}else if(A==='APOKZMDMA'||A==='SHFLGMDMA'||A==='SHZETMDMA'||A==='AHDISMDMA'){this.getDomSpcValue(O,N,d,c);b=this.setMrpBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,f,h,this.vLblMrpAr);x.oPlantPnlData.push(b);}}}else if(B[m].MARCBASIC2MDMABASICRel.results[n].ChangeData.results[0].EntityAction===this.vCreated){b=this.setMrpBindingItms(C,"",this.vAdded,"",P,f,h,this.vLblMrpAr);x.oPlantPnlData.push(b);}}}}}for(var s=0;s<B.length;s++){P=B[s].WERKS;if(P===this.aPlantChngd.oDataChngd[p].vChngdPlant){a=B[s].WERKS__TXT;a=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(P,a);for(var t=0;t<B[s].MARCBASIC2MKALBASICRel.results.length;t++){g=B[s].MARCBASIC2MKALBASICRel.results[t].MKALBASIC;var F=B[s].MARCBASIC2MKALBASICRel.results[t].MKALBASIC__TXT;F=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(g,F);C=F+", "+a;q=("000000000"+g).slice(-10);h=P+"c"+q;if(B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[0]!==undefined){if(B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[0].EntityAction===this.vUpdated){for(var u=0;u<B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results.length;u++){A=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].Attribute;O=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].OldValue;d=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].OldValueText;N=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].NewValue;c=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].NewValueText;e=B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[u].AttributeDesc;if(A==='TEXT1MKAL'||A==='PLNTYP'||A==='PLNNRP'||A==='PLNTYG'||A==='PLNNRG'||A==='PLNTYM'||A==='PLNNRM'||A==='STAMKALBA'||A==='STLANMKAL'||A==='CSPMKALBA'||A==='MDV01MKAL'||A==='MDVMKALBA'||A==='ELPMKALBA'||A==='ALOMKALBA'||A==='PRVMKALBA'||A==='MATKOMKAL'||A==='VERMKALBA'||A==='UCMATMKAL'){this.getKeyDesc(O,N,d,c);b=this.setPrdVerBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,g,h);x.oPlantPnlData.push(b);}else if(A==='SERKZMKAL'){this.getCheckBoxValue(O,N,d,c);b=this.setPrdVerBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,g,h);x.oPlantPnlData.push(b);}else if(A==='BSTMIMKAL'||A==='BSTMAMKAL'||A==='PLNALP'||A==='PLNALG'||A==='PLNALM'){this.getValueZeroes(O,N);b=this.setPrdVerBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,g,h);x.oPlantPnlData.push(b);}else if(A==='ADATUMKAL'||A==='BDATUMKAL'){this.getDate(O,N);b=this.setPrdVerBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,g,h);x.oPlantPnlData.push(b);}else if(A==='MKSPMKAL'){this.getTextOnly(d,c);b=this.setPrdVerBindingItms(C,e,this.vNewValChng,this.vOldValChng,P,g,h);x.oPlantPnlData.push(b);}}}else if(B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[0].EntityAction===this.vCreated){b=this.setPrdVerBindingItms(C,"",this.vAdded,"",P,g,h);x.oPlantPnlData.push(b);}else if(B[s].MARCBASIC2MKALBASICRel.results[t].ChangeData.results[0].EntityAction===this.vEDeleted){b=this.setPrdVerBindingItms(C,"",this.vEntDltd,"",P,g,h);x.oPlantPnlData.push(b);}}}}}}this.setChangedDataPanel(x,v,"MatReqPlanningPanel",S,"PlantSort",o);},setChangedDataPanel:function(p,c,d,s,S,C){if(p.oPlantPnlData.length>0){sap.ui.getCore().byId(c).destroyContent();sap.ui.getCore().byId(c).addContent(C);C.setGrowing(true);this.oChngItemTemp=this.createChngLogTblTemplt();this.oChngItemTemp.attachPress({Entity:d,name:'matPlantPnlChngDetail'},s.navtoSubDetail,s);var P=new sap.ui.model.json.JSONModel();P.setData(p);C.setModel(P);var o=new sap.ui.model.Sorter(S);C.bindItems('/oPlantPnlData',this.oChngItemTemp,o,'');}else{var n=sap.ui.getCore().byId(c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.setNoDataText(n,this.vNoDataTxt);}},createChngLogTblTemplt:function(){var c=new sap.m.ColumnListItem({type:"Navigation",cells:[new sap.m.ObjectIdentifier({text:{path:"PlantLbl"},title:{path:"ChangeKey"}}),new sap.m.ObjectIdentifier({text:{path:"AttributeDesc"},title:{path:"NewValue"}}),new sap.m.Text({text:{path:"OldValue"}})]});var e=this.oS3ControllerChng.matHookcreateChngLogTblTemplt(c);if(e!==undefined){c=e;}return c;},setBoldPlantGenData:function(c,p){var P,l,t;if(c.ChangeData.results[0]!==undefined){if(p==="MatReqPlanningPanel"){for(var i=0;i<c.ChangeData.results.length;i++){P=c.ChangeData.results[i].Attribute;if(P==="WZEIT"||P==="MTVFP"||P==="KZPSP"){l="Lbl_M"+P;t="Txt_M"+P;}else{l="Lbl_"+P;t="Txt_"+P;}this.setBoldLblTxt(l,t);}}else if(p==="MatQltyMngmntPanel"){for(var i=0;i<c.ChangeData.results.length;i++){P=c.ChangeData.results[i].Attribute;if(P==="KZDKZ"){l="Lbl_M"+P;t="Txt_M"+P;}else{l="Lbl_"+P;t="Txt_"+P;}this.setBoldLblTxt(l,t);}}else{for(var i=0;i<c.ChangeData.results.length;i++){P=c.ChangeData.results[i].Attribute;if(P==="XCHPF"){l="Lbl_M"+P;t="Txt_M"+P;}else{l="Lbl_"+P;t="Txt_"+P;}this.setBoldLblTxt(l,t);}}}var b=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.getUomChangedData();if(b!==""){var s="text_bold";if(sap.ui.getCore().byId("Txt_VBAMG")!==undefined&&sap.ui.getCore().byId("Txt_VBAMG").hasStyleClass(s)===false){l="Lbl_VBAMG";t="Txt_VBAMG";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_BSTMI")!==undefined&&sap.ui.getCore().byId("Txt_BSTMI").hasStyleClass(s)===false){l="Lbl_BSTMI";t="Txt_BSTMI";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_BSTMA")!==undefined&&sap.ui.getCore().byId("Txt_BSTMA").hasStyleClass(s)===false){l="Lbl_BSTMA";t="Txt_BSTMA";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_BSTFE")!==undefined&&sap.ui.getCore().byId("Txt_BSTFE").hasStyleClass(s)===false){l="Lbl_BSTFE";t="Txt_BSTFE";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_BSTRF")!==undefined&&sap.ui.getCore().byId("Txt_BSTRF").hasStyleClass(s)===false){l="Lbl_BSTRF";t="Txt_BSTRF";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_MABST")!==undefined&&sap.ui.getCore().byId("Txt_MABST").hasStyleClass(s)===false){l="Lbl_MABST";t="Txt_MABST";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_LOSGR")!==undefined&&sap.ui.getCore().byId("Txt_LOSGR").hasStyleClass(s)===false){l="Lbl_LOSGR";t="Txt_LOSGR";this.setBoldUomLblTxt(l,t,s);}if(sap.ui.getCore().byId("Txt_BASMG")!==undefined&&sap.ui.getCore().byId("Txt_BASMG").hasStyleClass(s)===false){l="Lbl_BASMG";t="Txt_BASMG";this.setBoldUomLblTxt(l,t,s);}}},getTextOnly:function(o,n){if(n!==o){if(o===""){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=o;}if(n===""&&o!==""){this.vNewValChng=this.vDeleted;}else if(n!==""){this.vNewValChng=n;}}},getKeyDesc:function(o,n,O,N){if(n!==o){if(o===""){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(o,O);}if(n===""&&o!==""){this.vNewValChng=this.vDeleted;}else if(n!==""){this.vNewValChng=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(n,N);}}},getOriginDesc:function(o,n,O,N){if(n!==o){this.vOldValChng=O;this.vNewValChng=N;}},getDomSpcValue:function(o,n,O,N){if(n!==o){this.vOldValChng=fcg.mdg.approvecrv2.util.Formatter.description(o,O);this.vNewValChng=fcg.mdg.approvecrv2.util.Formatter.description(n,N);}},getCheckBoxValue:function(o,n,O,N){if(n!==o){if(o===""){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=O;}if(n===""&&o!==""){this.vNewValChng=this.vDeleted;}else if(n!==""){this.vNewValChng=N;}}},getCheckBoxDefValue:function(o,n){if(n!==o){if(o===""){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=fcg.mdg.approvecrv2.util.Formatter.checkBox(o);}if(n===""&&o!==""){this.vNewValChng=this.vDeleted;}else if(n!==""){this.vNewValChng=fcg.mdg.approvecrv2.util.Formatter.checkBox(n);}}},getQtyWithUnit:function(o,n,O,N){if(n!==o){var v=fcg.mdg.approvecrv2.util.Formatter.defaultValue(o);var a=fcg.mdg.approvecrv2.util.Formatter.defaultValue(n);if(v===false){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=o+' '+O;}if(a===false){this.vNewValChng=this.vDeleted;}else{this.vNewValChng=n+' '+N;}}},getValueZeroes:function(o,n){if(n!==o){var O=fcg.mdg.approvecrv2.util.Formatter.defaultValue(o);var N=fcg.mdg.approvecrv2.util.Formatter.defaultValue(n);if(O===false){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=fcg.mdg.approvecrv2.util.Formatter.removeLeadingZeros(o);}if(N===false){this.vNewValChng=this.vDeleted;}else{this.vNewValChng=fcg.mdg.approvecrv2.util.Formatter.removeLeadingZeros(n);}}},getDate:function(o,n){if(n!==o){if(o===""||o==="00.00.0000"||o==="00,00,0000"){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=o;}if(n===""||n==="00.00.0000"||n==="00,00,0000"){this.vNewValChng=this.vDeleted;}else if(n!==""){this.vNewValChng=n;}}},getTextDays:function(o,n){if(n!==o){var O=fcg.mdg.approvecrv2.util.Formatter.defaultValue(o);var N=fcg.mdg.approvecrv2.util.Formatter.defaultValue(n);if(O===false){this.vOldValChng=this.vNotMaint;}else{this.vOldValChng=fcg.mdg.approvecrv2.util.Formatter.matPurchDays(o);}if(N===false){this.vNewValChng=this.vDeleted;}else{this.vNewValChng=fcg.mdg.approvecrv2.util.Formatter.matPurchDays(n);}}},setChngBindingItms:function(c,a,n,o,p){var P={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"Material":this.vMaterial,"PlantLbl":this.vLblPlant};return P;},setStrgCstngBindingItms:function(c,a,n,o,p,s,P,C){var b={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"StorgLoc":s,"PlantSort":P,"Material":this.vMaterial,"PlantLbl":C};return b;},setQMBindingItms:function(c,a,n,o,p,i,P,C){var b={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"InspType":i,"PlantSort":P,"Material":this.vMaterial,"PlantLbl":C};return b;},setMrpBindingItms:function(c,a,n,o,p,m,P,C){var b={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"MrpArea":m,"PlantSort":P,"Material":this.vMaterial,"PlantLbl":C};return b;},setPrdVerBindingItms:function(c,a,n,o,p,P,v){var b={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"PrdVer":P,"PlantSort":v,"Material":this.vMaterial,"PlantLbl":this.vLblPrdVer};return b;},setBoldLblTxt:function(l,t){var s="text_bold";var L=sap.ui.getCore().byId(l);if(L!==undefined){L.setDesign("Bold");}var T=sap.ui.getCore().byId(t);if(T!==undefined){T.addStyleClass(s);}},setBoldUomLblTxt:function(l,t,b){var L=sap.ui.getCore().byId(l);L.setDesign("Bold");var T=sap.ui.getCore().byId(t);T.addStyleClass(b);},setValuationBindingItms:function(c,a,n,o,p,P,k,b,d,v){var e={"ChangeKey":c,"AttributeDesc":a,"NewValue":n,"OldValue":o,"Plant":p,"PlantLbl":P,"key":k,"plant_txt":b,"bwtar_txt":d,"Material":this.vMaterial,"sorter":v};return e;},createMatLedgerPerTemplate:function(m){var M=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:{path:'CURTP',formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"CURTP");var d=m.getProperty("CURTP__TXT",this.getBindingContext());var k=m.getProperty("CURTP",this.getBindingContext());if(k===""&&d===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(k,d);}}}}),new sap.m.Text({text:{path:"POPER",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"POPER");var k=m.getProperty("POPER",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:"BDATJ",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"BDATJ");var k=m.getProperty("BDATJ",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:"STPRSMLVL",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"STPRSMLVL");var k=m.getProperty("STPRSMLVL",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:"PVPRS",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"PVPRS");var k=m.getProperty("PVPRS",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:"PEINHMLVL",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"PEINHMLVL");var k=m.getProperty("PEINHMLVL",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:'VPRSVMLVL',formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"VPRSVMLVL");var d=m.getProperty("VPRSVMLVL__TXT",this.getBindingContext());var k=m.getProperty("VPRSVMLVL",this.getBindingContext());if(k===""&&d===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(k,d);}}}})]});var e=this.oS3Controller.matHookcreateMatLedgerPerTemplate(M);if(e!==undefined){M=e;}return M;},createMatLedgerPriceTemplate:function(m){var M=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:{path:'CURTP',formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"CURTP");var d=m.getProperty("CURTP__TXT",this.getBindingContext());var k=m.getProperty("CURTP",this.getBindingContext());if(k===""&&d===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(k,d);}}}}),new sap.m.Text({text:{path:"PEINHMLAC",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"PEINHMLAC");var k=m.getProperty("PEINHMLAC",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:"ZKPRS",formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"ZKPRS");var k=m.getProperty("ZKPRS",this.getBindingContext());if(k===""){return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return k;}}}}),new sap.m.Text({text:{path:'ZPRSDAT',formatter:function(){fcg.mdg.approvecrv2.util.Formatter.handlePlantvalLdgrCellBolding(this,m,"ZPRSDAT");var k=m.getProperty("ZPRSDAT",this.getBindingContext());if(k===""||k===null){if(k===null){k="";}return fcg.mdg.approvecrv2.util.Formatter.noValue(k);}else{return fcg.mdg.approvecrv2.util.Formatter.matDateFormat(k);}}}})]});var e=this.oS3Controller.matHookcreateMatLedgerPriceTemplate(M);if(e!==undefined){M=e;}return M;},hideValuationDataSection:function(d){var e=d.matHookHidePlantValuationDataSection();if(e===false){if(sap.ui.getCore().byId("Txt_FZKPRS").getVisible()===false&&sap.ui.getCore().byId("Plant_Val_Cur")!==undefined){sap.ui.getCore().byId("Plant_Val_Cur").destroy();}if(sap.ui.getCore().byId("Txt_MYPACTNG").getVisible()===false&&sap.ui.getCore().byId("Txt_FXLIFO").getVisible()===false&&sap.ui.getCore().byId("Plant_Lifo_Datat")!==undefined){sap.ui.getCore().byId("Plant_Lifo_Datat").destroy();}if(sap.ui.getCore().byId("Txt_ABWKZ").getVisible()===false&&sap.ui.getCore().byId("Txt_BWPEI").getVisible()===false&&sap.ui.getCore().byId("Txt_BWPRS").getVisible()===false&&sap.ui.getCore().byId("Txt_BWPS1").getVisible()===false&&sap.ui.getCore().byId("Txt_VJBWS").getVisible()===false&&sap.ui.getCore().byId("Txt_BWPRH").getVisible()===false&&sap.ui.getCore().byId("Txt_BWPH1").getVisible()===false&&sap.ui.getCore().byId("Txt_VJBWH").getVisible()===false&&sap.ui.getCore().byId("Plant_Det_Low_Val")!==undefined){sap.ui.getCore().byId("Plant_Det_Low_Val").destroy();}if(sap.ui.getCore().byId("Txt_MBEWMLAST").getVisible()===false&&sap.ui.getCore().byId("Txt_MBEWMLMAA").getVisible()===false&&sap.ui.getCore().byId("Txt_BKLAS").getVisible()===false&&sap.ui.getCore().byId("Txt_BWTTY").getVisible()===false&&sap.ui.getCore().byId("Txt_QKLAS").getVisible()===false&&sap.ui.getCore().byId("Txt_EKLAS").getVisible()===false&&sap.ui.getCore().byId("Txt_PEINH").getVisible()===false&&sap.ui.getCore().byId("Gen_Data_Title")!==undefined){sap.ui.getCore().byId("Gen_Data_Title").destroy();}if(sap.ui.getCore().byId("Txt_FZPLP1").getVisible()===false&&sap.ui.getCore().byId("Txt_FZPLP2").getVisible()===false&&sap.ui.getCore().byId("Txt_FZPLP3").getVisible()===false&&sap.ui.getCore().byId("idmatPricingTitle")!==undefined){sap.ui.getCore().byId("idmatPricingTitle").destroy();}if(sap.ui.getCore().byId("Txt_STPRS").getVisible()===false&&sap.ui.getCore().byId("Txt_FZPLP3").getVisible()===false&&sap.ui.getCore().byId("idStd_Cost_EstTitle")!==undefined){sap.ui.getCore().byId("idStd_Cost_EstTitle").destroy();}if(sap.ui.getCore().byId("Txt_VERPR").getVisible()===false&&sap.ui.getCore().byId("Txt_STPRV").getVisible()===false&&sap.ui.getCore().byId("Txt_VPRSV").getVisible()===false&&sap.ui.getCore().byId("idValuationCoreTitle")!==undefined){sap.ui.getCore().byId("idValuationCoreTitle").destroy();}if(sap.ui.getCore().byId("Gen_Data_Title")===undefined&&sap.ui.getCore().byId("idmatPricingTitle")===undefined&&sap.ui.getCore().byId("idStd_Cost_EstTitle")===undefined&&sap.ui.getCore().byId("idValuationCoreTitle")===undefined&&sap.ui.getCore().byId("idValuationCoreTitle")===undefined){sap.ui.getCore().byId("matvaluationForm").destroy();}if(sap.ui.getCore().byId("Plant_Val_Cur")===undefined&&sap.ui.getCore().byId("Plant_Lifo_Datat")===undefined&&sap.ui.getCore().byId("Plant_Det_Low_Val")===undefined&&sap.ui.getCore().byId("matvaluationdetailForm")!==undefined&&sap.ui.getCore().byId("Matvalacnt")!==undefined){sap.ui.getCore().byId("matvaluationdetailForm").destroy();sap.ui.getCore().byId("Matvalacnt").destroy();}}},getSetValDetailData:function(b,B,r,d,n){var v=fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.getValuationAcntData(b,B);this.oS3Controller=fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.getS3Instance();var V=new sap.ui.model.json.JSONModel();V.setData(v.data.__batchResponses[0].data.MBEWVALUA2MBEWVALCTNGRel);sap.ui.getCore().byId("matvaluationdetailForm").setModel(V);sap.ui.getCore().byId("matvaluationForm").setModel(V);if(v.data.__batchResponses[0].data.MBEWVALUA2MBEWVALCTNGRel.ChangeData.results!==undefined){this.setBoldValData(v.data.__batchResponses[0].data.MBEWVALUA2MBEWVALCTNGRel,n);}this.hideValuationDataSection(d);if(v.data.__batchResponses[0].data.MBEWVALUA2MBEWMLVALRel.results.length>0){var t=sap.ui.getCore().byId("Matledgerper");this.setValuationTablePersonalization("Matledgerper","/results");var o=new sap.ui.model.json.JSONModel();o.setData(v.data.__batchResponses[0].data.MBEWVALUA2MBEWMLVALRel);var i=this.createMatLedgerPerTemplate(o);t.setModel(o);t.bindItems('/results',i,'','');}else{if(sap.ui.getCore().byId("Matledgerper")!==undefined){sap.ui.getCore().byId("Matledgerper").destroy();}}if(v.data.__batchResponses[0].data.MBEWVALUA2MBEWMLACRel.results.length>0){var m=sap.ui.getCore().byId("Matplantledgerprice");this.setValuationTablePersonalization("Matplantledgerprice","/results");var M=new sap.ui.model.json.JSONModel();M.setData(v.data.__batchResponses[0].data.MBEWVALUA2MBEWMLACRel);var I=this.createMatLedgerPriceTemplate(M);m.setModel(M);m.bindItems('/results',I,'','');}else{if(sap.ui.getCore().byId("Matplantledgerprice")!==undefined){sap.ui.getCore().byId("Matplantledgerprice").destroy();}}},setBoldValData:function(v,n){if(n!=="Added"&&n!=="Deleted"){var s="text_bold";for(var k=0;k<v.ChangeData.results.length;k++){if(v.ChangeData.results[k].EntityAction==="U"){var l="Lbl_"+v.ChangeData.results[k].Attribute;var L=sap.ui.getCore().byId(l);if(L!==undefined){L.setDesign("Bold");}var t="Txt_"+v.ChangeData.results[k].Attribute;if(sap.ui.getCore().byId(t)!==undefined){sap.ui.getCore().byId(t).addStyleClass(s);}}}}},getValDetailData:function(){return this.aValChangedData;},getNewValue:function(e){var f=0;if(e==='C'){this.vNewValChng="Added";this.vOldValChng="";f=1;}if(e==='D'){this.vNewValChng="Deleted";this.vOldValChng="";f=1;}return f;},setValuationTablePersonalization:function(t,i){var m=sap.ui.getCore().byId(t);var M;switch(t){case"Matledgerper":{M=sap.ui.getCore().byId("PlantMatledgerpersIcon");break;}case"Matplantledgerprice":{M=sap.ui.getCore().byId("PlantMatplantledgerpricepersIcon");break;}}fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.setTablePersonalization(i,m,M);}};
