/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("fcg.mdg.approvecrv2.DomainSpecParts.Material.Material");jQuery.sap.require("fcg.mdg.approvecrv2.util.DataAccess");jQuery.sap.require("sap.m.TablePersoController");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesChange");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseChange");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentCreate");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentChange");fcg.mdg.approvecrv2.DomainSpecParts.Material.Material={oValuationInstance:"",oValuationChangedresponse:"",oBatchModel:"",oS3Controller:null,oPlantDtlController:null,aSalesDetaildata:"",aSalesdata:"",matNum:"",cNum:"",oDistResponse:"",oSalesBasicDataResponse:"",aSalesDistOrgData:"",oSalesBatchModel:"",sCreateEntityAction:"C",sUpdateEntityAction:"U",sDeleteEntityAction:"D",sDeletedInstance:"",sAddedInstance:"",sNotMaint:"",sAddedAttribute:"",sDeletedAttribute:"",Classificationdetailresponse:"",salesOrgController:"",oMaterialCreateForm:"",vContextPath:"",Response:"",oGtinResponse:"",oNotesResponse:"",oResponse:"",oPlantResponse:"",oValuationresponse:"",oStrgResponse:"",vPlant:"",vMaterial:"",vCId:"",vMatAction:"",vMatPlantIconTabSel:"",i18n:sap.ca.scfld.md.app.Application.getImpl().getResourceBundle(),aBatchOperation:[],gtinresponse:"",notesresponse:"",PurchasingResponse:"",Classificationresponse:"",gtinchangedresponse:"",Classificationchangedresponse:"",Purchasingchangedresponse:"",Noteschangedresponse:"",ResponseData:"",oMRPresponse:"",oForcastingresponse:"",oQMresponse:"",oInspResponse:"",oWorkSdresponse:"",oStrgCstngresponse:"",oStrgCstngChngresponse:"",oWorkSdChngresponse:"",oQMChngresponse:"",oForcastingChngresponse:"",oMRPChngresponse:"",aMARASalesData:"",aSalesnDisbData:"",aSalesTaxData:"",aSalesTextData:"",aBufferedDataDoc:"",vNewEntity:"C",vUpdatedEntity:"U",vDeletedEntity:"D",aWarehousedata:"",oWarehouseChangeModel:"",oWarehouseCreateModel:"",awhChangedData:"",aDocAssignmentData:"",aDocAssignmentOriginalsData:"",aDocAssignmentTextData:"",sPSTAT:"",vPlantnext:"",vMatSalesIconTabSel:"",vMatWarehouseIconTabSel:"",vMatDocAssignIconTabSel:"",aPlantSyncData:"",oWarehouseCreateResponse:"",oWarehouseChangeResponse:"",whCreatequery:"",aSalesSyncData:"",aWhouseSyncData:"",aDocSyncData:"",loadLayout:function(s){s.getView().byId("page").removeContent(s.oCustomerDomain);s.getView().byId("page").removeContent(s.costCenterIconTab);s.getView().byId("page").removeContent(s.oSupplierDomain);s.getView().byId("page").removeContent(s.profitCenterIconTab);s.getView().byId("page").removeContent(s.oMaterialIconTab);s.getView().byId("page").removeContent(s.glAccountIconTab);if(this.oValuationInstance!==undefined&&this.oValuationInstance!==""){this.oValuationInstance.destroy();}try{sap.ui.getCore().byId("matCreatevalutionLayout").destroy();}catch(e){}this.gtinresponse="";this.notesresponse="";this.PurchasingResponse="";this.Classificationresponse="";this.aBufferedDataDoc="";this.vMatPlantIconTabSel="";this.vMatSalesIconTabSel="";this.vMatWarehouseIconTabSel="";this.gtinchangedresponse="";this.Classificationchangedresponse="";this.Purchasingchangedresponse="";this.Noteschangedresponse="";this.ResponseData="";this.Classificationdetailresponse="";this.oValuationresponse="";this.oValuationChangedresponse="";this.aDocAssignmentData="";this.sDeletedInstance=this.i18n.getText("PC_DELETED");this.sAddedInstance=this.i18n.getText("PC_ADDED");this.sNotMaint="("+this.i18n.getText("PC_NOT_MAIN")+")";this.sAddedAttribute="("+this.i18n.getText("PC_ADDED")+")";this.sDeletedAttribute="("+this.i18n.getText("PC_DELETED")+")";try{sap.ui.getCore().byId("matFileUpload-1-uploader").destroy();}catch(e){}try{sap.ui.getCore().byId("matFileUpload-uploader").destroy();}catch(e){}try{sap.ui.getCore().byId("Txt_MatChange").destroy();}catch(e){}try{sap.ui.getCore().byId("matchngmgmtchngForm").destroy();}catch(e){}try{sap.ui.getCore().byId("matPurchasingChangeLayout").destroy();}catch(e){}try{sap.ui.getCore().byId("Mat_Basic_Data_title").destroy();sap.ui.getCore().byId("matCreateLayout").destroy();s.oMaterialIconTab.destroy();}catch(e){}if(sap.ui.getCore().byId("CreateChngMgmttit")!==undefined){sap.ui.getCore().byId("CreateChngMgmttit").destroy();}if(sap.ui.getCore().byId("Txt_ECOCHGMNG")!==undefined){sap.ui.getCore().byId("Txt_ECOCHGMNG").destroy();}if(sap.ui.getCore().byId("Txt_VALID_FROM")!==undefined){sap.ui.getCore().byId("Txt_VALID_FROM").destroy();}if(sap.ui.getCore().byId("Txt_REVCHGMNG")!==undefined){sap.ui.getCore().byId("Txt_REVCHGMNG").destroy();}this.oS3Controller=s;if(s.oMaterialIconTab===""){s.oMaterialIconTab=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.Material',s);}else{s.oMaterialIconTab.destroy();try{s.costCenterIconTab.destroy();s.oCustomerDomain.destroy();s.profitCenterIconTab.destroy();s.oSupplierDomain.destroy();s.glAccountIconTab.destroy();}catch(e){}s.oMaterialIconTab=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Material.Material',s);}s.getView().byId("page").addContent(s.oMaterialIconTab);fcg.mdg.approvecrv2.util.DataAccess.setAsyncBatchData();if(this.aPlantSyncData!==undefined){this.aPlantSyncData="";}if(this.aSalesSyncData!==undefined){this.aSalesSyncData="";}if(this.aWhouseSyncData!==undefined){this.aWhouseSyncData="";}if(this.aDocSyncData!==undefined){this.aDocSyncData="";}},getS3Instance:function(){return this.oS3Controller;},getGeneralData:function(v,b,p,a,s){this.oBatchModel=s.getView().getModel("MDG_MATERIAL");this.oBatchChangedModel=s.getView().getModel("MDG_MATERIAL");this.setRequestHdrNull(this.oBatchModel);var r;var l=this;var q="";var n="";var m=fcg.mdg.approvecrv2.util.DataAccess.getObjectKey();var c=fcg.mdg.approvecrv2.util.Formatter.ParseObjKey(m);this.matNum=c;this.vContextPath=p;this.vCId=s.vCrId;this.vMatAction=a;var i=sap.ui.getCore().byId("MaterialNotesTab");var I=sap.ui.getCore().byId("MaterialAttachmentsTab");var S=sap.ui.getCore().byId("matSalesIconTab");var w=sap.ui.getCore().byId("matWarehouseIconTab");var C=p.split("(");var d=C[1].split(")");var Q;var u="Decisions?Crequest="+d[0];var D="/"+u;fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,D,b);if(a==='CHANGE'){Q=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.getGeneralDataQuery(this.matNum);q=Q+"?$expand=ChangeData,MATERIAL2MATCHGMNGRel";this.setRequestHeaderCr(this.oBatchModel);if(this.ResponseData===""){fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,s);r=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifyMatGeneralChangeData(q,Q,r);if(e!==undefined){r=e;}this.ResponseData=r[1];}}else if(a==='CREATE'){Q=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.getGeneralDataQuery(this.matNum);q=Q+"?$expand=MATERIAL2MATCHGMNGRel";if(this.ResponseData===""){this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,s);r=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var E=this.oS3Controller.matHookModifyMatGeneralCreateData(q,Q,r,this.matNum);if(e!==undefined){r=E;}this.ResponseData=r[1];}}if(this.ResponseData!==undefined){this.PSTAT=this.ResponseData.data.MTARTPSTAT;}if(r[0].headers!==undefined&&r[0].headers.usmd1a016!==undefined){s.setCrLockError(r[0].headers.usmd1a016);s.createDecisionButtons(r[0].data.results,s,"",true);}else{s.createDecisionButtons(r[0].data.results,s);}if(r[0].headers!==undefined&&r[0].headers.mdg_gw_approve_cr009!==undefined){s.setCrRejected(r[0].headers.mdg_gw_approve_cr009);}s.setNoteAttachIconTab(i,I);if(fcg.mdg.approvecrv2.util.Formatter.getMatVisibiltyBasedOnParameter("S")===false){w.setVisible(false);}if(r[1]!==undefined&&r[1].data!==undefined){if(a==='CREATE'){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.load_General_Data(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.displayGeneralData(r[1],s);}else if(a==='CHANGE'){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.initialize_General_Tables(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.displayGeneralTabData(r[1],l,s);}this.oS3Controller.matHookModifyGeneralCreateChangeData(this.oS3Controller,r,a);}else{sap.ui.getCore().byId("matGenIconTab").setVisible(false);}if(r[1]!==undefined){var P=r[1].data.MATERIAL;}return P;},getMatClassData:function(c,a){var C;var k="/CLASSTYPECollection"+"(MATERIAL='"+this.matNum+"',CLASSTYPE='"+c+"',CHANGENO='"+a+"')";var q=k+"?$expand=CLASSTYPE2CLASSASGNRel,CLASSTYPE2VALUATIONRel";this.setRequestHdrNull(this.oBatchModel);var C=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatClassificationCreateData(q,C);if(e!==undefined){C=e;}return C.data;},getValuationAcntData:function(b,B){if(this.vMatAction=="CREATE"){var k="/MBEWVALUACollection"+"(BWKEY='"+b+"',BWTAR='"+B+"',MATERIAL='"+this.matNum+"')";var q=k+"?$expand=MBEWVALUA2MBEWVALCTNGRel,MBEWVALUA2MBEWMLACRel,MBEWVALUA2MBEWMLVALRel";}else{var k="/MBEWVALUACollection"+"(BWKEY='"+b+"',BWTAR='"+B+"',MATERIAL='"+this.matNum+"')";var q=k+"?$expand=MBEWVALUA2MBEWVALCTNGRel/ChangeData,MBEWVALUA2MBEWMLACRel/ChangeData,MBEWVALUA2MBEWMLVALRel/ChangeData";}q=encodeURI(q);this.setRequestHeaderCr(this.oBatchModel);var d=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatPlantValuationAcntData(q,d);if(e!==undefined){d=e;}return d;},getPanelData:function(p){var P="(MATERIAL='"+this.matNum+"')";var s="(MATERIAL='"+this.matNum+"')";var m="/MATERIALCollection('"+this.matNum+"')";var k="(MATERIAL='"+this.vMaterial+"',"+"WERKS='"+this.vPlant+"')";var c="?$expand=ChangeData";if(p==='matGtinPanel'){if(this.gtinresponse===""){this.setMatGtinPanel(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.bindPanelData(this.gtinresponse,p,this.oS3Controller);}}else if(p==='matClassificationPanel'){if(this.Classificationresponse===""){this.setMatClassificationPanel(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.bindPanelData(this.Classificationresponse,p,this.oS3Controller);}}else if(p==='matPurchasingPanel'){if(this.PurchasingResponse===""){this.setMatPurchasingPanel(P,s);}fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.bindPanelData(this.PurchasingResponse,p,this.oS3Controller);}else if(p==='matNotesPanel'){if(this.notesresponse===""){this.setMatNotesPanel(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.bindPanelData(this.notesresponse,p,this.oS3Controller);}}else if(p==='matGtinChangedPanel'){if(this.gtinchangedresponse===""){this.setMatGtinChangedPanel();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.InitializePanelData(this.gtinchangedresponse,p,this.oS3Controller);}}else if(p==='matClassificationChangedPanel'){if(this.Classificationchangedresponse===""){this.setMatClassificationChangedPanel(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.InitializePanelData(this.Classificationchangedresponse,p,this.oS3Controller);}}else if(p==='matPurchasingChangedPanel'){if(this.Purchasingchangedresponse===""){this.setMatPurchasingChangedPanel(s);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.InitializePanelData(this.Purchasingchangedresponse,p,this.oS3Controller);}}else if(p==='matNotesChangedPanel'){if(this.Noteschangedresponse===""){this.setMatNotesChangedPanel();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialBasicDataChange.InitializePanelData(this.Noteschangedresponse,p,this.oS3Controller);}}else if(p==='MatReqPlanningPanel'){if(this.oMRPresponse===""){this.setMatReqPlanningPanel(k,c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oMRPresponse,p,this.oPlantDtlController);}}else if(p==='MatForecastingPanel'){if(this.oForcastingresponse===""){this.setMatForecastingPanel(k,c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oForcastingresponse.data,p,this.oPlantDtlController);}}else if(p==='MatQltyMngmntPanel'){if(this.oQMresponse===""){this.setMatQltyMngmntPanel(k,c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oQMresponse,p,this.oPlantDtlController);}}else if(p==='MatWorkSchdlngPanel'){if(this.oWorkSdresponse===""){this.setMatWorkSchdlngPanel(k,c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oWorkSdresponse.data,p,this.oPlantDtlController);}}else if(p==='MatStrgCstngPanel'){if(this.oStrgCstngresponse===""){this.setMatStrgCstngPanel(k,c);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oStrgCstngresponse,p,this.oPlantDtlController);}}else if(p==='MatReqPlanningPanelChng'){if(this.oMRPChngresponse===""){this.setMatReqPlanningPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oMRPChngresponse,p,this.oS3Controller);}}else if(p==='MatForecastingPanelChng'){if(this.oForcastingChngresponse===""){this.setMatForecastingPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oForcastingChngresponse.data.__batchResponses[0].data,p,this.oS3Controller);}}else if(p==='MatQltyMngmntPanelChng'){if(this.oQMChngresponse===""){this.setMatQltyMngmntPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oQMChngresponse.data.__batchResponses[0].data,p,this.oS3Controller);}}else if(p==='MatWorkSchdlngPanelChng'){if(this.oWorkSdChngresponse===""){this.setMatWorkSchdlngPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oWorkSdChngresponse.data.__batchResponses[0].data,p,this.oS3Controller);}}else if(p==='MatStrgCstngPanelChng'){if(this.oStrgCstngChngresponse===""){this.setMatStrgCstngPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oStrgCstngChngresponse.data.__batchResponses[0].data,p,this.oS3Controller);}}else if(p==='MatValuationPanel'){if(this.vPlantnext!==this.vPlant){this.oValuationresponse="";}if(this.oValuationresponse===""){this.setMatValuationPanel();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.bindPanelData(this.oValuationresponse,p,this.oPlantDtlController);}}else if(p==='MatValuationPanelChng'){if(this.oValuationChangedresponse===""){this.setMatValuationPanelChng(m);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePanelData(this.oValuationChangedresponse,p,this.oS3Controller);}}this.oS3Controller.matHookModifyPanelData(p,this.matNum);},getValuationData:function(){return this.oValuationresponse;},getDetailGtinData:function(){return this.oGtinResponse;},getDetailNotesData:function(){return this.oNotesResponse;},getDetailData:function(){return this.Response;},getGeneralDetailData:function(){return this.ResponseData;},getPurchaseDetailData:function(){return this.Purchasingchangedresponse;},getDetailGtinChangedData:function(){return this.gtinchangedresponse;},setRequestHdrNull:function(m){if(m.mCustomHeaders!==null){m.mCustomHeaders=null;m.setUseBatch(false);return m;}},setRequestHeaderCr:function(m){if(m.mCustomHeaders===null){var a={};a.crequest=this.vCId;m.setHeaders(a);m.setUseBatch(true);return m;}},getAsyncPlantData:function(p,a,s){var P="";this.setRequestHeaderCr(this.oBatchModel);if(a==='CHANGE'){P="/MATERIALCollection('"+this.matNum+"')"+"?$expand=MATERIAL2MARCRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MLANPURCHRel/ChangeData";this.getMatAsyncData(this.oBatchModel,P,"Plant");}else if(a==='CREATE'){P="/MATERIALCollection('"+this.matNum+"')"+"?$expand=MATERIAL2MARCBASICRel";this.getMatAsyncData(this.oBatchModel,P,"Plant");}},getAsyncSalesData:function(p,a,s){var S="";this.setRequestHeaderCr(this.oBatchModel);if(a==='CHANGE'){var b=[];var m="MARASALESCollection(MATERIAL='"+this.matNum+"')?$expand=ChangeData";var c="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKERel/ChangeData";var d="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKESALESRel/MVKESALES2MLANSALESRel/ChangeData";var e="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKESALESRel/MVKESALES2SALESTXTRel/ChangeData";fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,m,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,c,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,d,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,e,b);var E=this.oS3Controller.matHookModifyMatAsyncSalesChBatchCall(this.oBatchModel,m,c,d,e,b);if(E!==undefined){this.oBatchModel=E;}fcg.mdg.approvecrv2.util.DataAccess.performAsyncSubmitBatch(this.oBatchModel,s);}else if(a==='CREATE'){S="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MARASALESRel,MATERIAL2MVKESALESRel";this.getMatAsyncData(this.oBatchModel,S,"Sales");}},getAsyncWhouseData:function(p,a,s){var w="";this.setRequestHeaderCr(this.oBatchModel);if(a==='CHANGE'){w="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MLGNSTORRel/ChangeData,MATERIAL2MLGNSTORRel/MLGNSTOR2MLGTSTORRel/ChangeData";this.getMatAsyncData(this.oBatchModel,w,"Whouse");}else if(a==='CREATE'){w="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MLGNSTORRel";this.getMatAsyncData(this.oBatchModel,w,"Whouse");}},getAsyncDocData:function(p,a,s){var d="";this.setRequestHeaderCr(this.oBatchModel);if(a==='CHANGE'){d="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2DRADBASICRel/ChangeData,MATERIAL2DRADBASICRel/DRADBASIC2DRADTXTRel/ChangeData";this.getMatAsyncData(this.oBatchModel,d,"Doc");}else if(a==='CREATE'){d="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2DRADBASICRel";this.getMatAsyncData(this.oBatchModel,d,"Doc");}},getMatAsyncData:function(d,q,t){var E=this.oS3Controller.matHookModifyMatAsyncQueryCall(q);if(E!==undefined){q=E;}d.read(q,null,null,true,function(D,r){if(t==="Sales"){fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.setSalesSyncData(r);}else if(t==="Plant"){fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.setPlantSyncData(r);}else if(t==="Whouse"){fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.setWhouseSyncData(r);}else if(t==="Doc"){fcg.mdg.approvecrv2.DomainSpecParts.Material.Material.setDocSyncData(r);}},function(e){});},getPlantData:function(v,p,a,s){if(this.vMatPlantIconTabSel===""){this.oMRPresponse="";this.oForcastingresponse="";this.oQMresponse="";this.oWorkSdresponse="";this.oStrgCstngresponse="";this.oStrgCstngChngresponse="";this.oWorkSdChngresponse="";this.oQMChngresponse="";this.oForcastingChngresponse="";this.oMRPChngresponse="";this.oS3Controller=s;var q="";this.oBatchModel=s.getView().getModel("MDG_MATERIAL");this.setRequestHeaderCr(this.oBatchModel);var S=this.aPlantSyncData;if(a==='CHANGE'){if(S!==undefined&&S!==""&&S!==null){this.oPlantResponse=S;}else{q="/MATERIALCollection('"+this.matNum+"')"+"?$expand=MATERIAL2MARCRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MLANPURCHRel/ChangeData";this.oPlantResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);}}else if(a==='CREATE'){if(S!==undefined&&S!==""&&S!==null){this.oPlantResponse=S;}else{q="/MATERIALCollection('"+this.matNum+"')"+"?$expand=MATERIAL2MARCBASICRel";this.oPlantResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);}}if(q!==""){var e=this.oS3Controller.matHookModifygetPlantData(q,this.oPlantResponse);if(e!==undefined){this.oPlantResponse=e;}}if(a==='CREATE'){if(this.oPlantDtlController!==null){if(this.oPlantDtlController.oPlantDataDetails!==undefined){this.oPlantDtlController.oPlantDataDetails.destroy();}}if(this.oPlantResponse.data.__batchResponses[0].data.MATERIAL2MARCBASICRel.results.length>0){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.initializePlantTabl(this.oPlantResponse.data.__batchResponses[0].data,this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantCreate.displayPlantData(this.oPlantResponse.data.__batchResponses[0].data,s);}else{if(sap.ui.getCore().byId("matChangePlantDataLayout")!==undefined){sap.ui.getCore().byId("matChangePlantDataLayout").destroy();}var n=this.i18n.getText("NodataCreate");var P=sap.ui.getCore().byId("matCreatePlantDataLayout");fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.setNoDataText(P,n);}}else if(a==='CHANGE'){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.initializePlantChangetabl(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialPlantChange.displayPlantChangeData(this.oPlantResponse.data.__batchResponses[0].data,s);}this.vMatPlantIconTabSel="X";}},getPlantNavData:function(){return this.oPlantResponse.data.__batchResponses[0].data;},getMrpTxtNavData:function(){return this.oMRPresponse;},getPlantDetailsData:function(p,P,m){this.oPlantDtlController=p;var b=[];this.vPlant=P;this.vMaterial=m;this.oMRPresponse="";this.oForcastingresponse="";this.oQMresponse="";this.oWorkSdresponse="";this.oStrgCstngresponse="";var q="";var M="";var o="";this.setRequestHeaderCr(this.oBatchModel);if(this.vMatAction==='CREATE'){q="/MARCCollection(MATERIAL='"+m+"',"+"WERKS='"+P+"')";M="/MARCBASICCollection(MATERIAL='"+m+"',"+"WERKS='"+P+"')?$expand=MARCBASIC2MLANPURCHRel";}else if(this.vMatAction==='CHANGE'){q="/MARCCollection(MATERIAL='"+m+"',"+"WERKS='"+P+"')?$expand=ChangeData";M="/MARCBASICCollection(MATERIAL='"+m+"',"+"WERKS='"+P+"')?$expand=MARCBASIC2MLANPURCHRel/ChangeData";}fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,M,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);o=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifygetPlantDetailsData(q,M,o);if(e!==undefined){o=e;}if(sap.ui.getCore().byId("MatReqPlanningPanel")!==undefined){sap.ui.getCore().byId("MatReqPlanningPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}if(sap.ui.getCore().byId("MatForecastingPanel")!==undefined){sap.ui.getCore().byId("MatForecastingPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}if(sap.ui.getCore().byId("MatQltyMngmntPanel")!==undefined){sap.ui.getCore().byId("MatQltyMngmntPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}if(sap.ui.getCore().byId("MatWorkSchdlngPanel")!==undefined){sap.ui.getCore().byId("MatWorkSchdlngPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}if(sap.ui.getCore().byId("MatStrgCstngPanel")!==undefined){sap.ui.getCore().byId("MatStrgCstngPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}if(sap.ui.getCore().byId("MatValuationPanel")!==undefined){sap.ui.getCore().byId("MatValuationPanel").attachExpand(this.oS3Controller.onPanelExpand,this);}return o;},getStorageLocNavData:function(){return this.oStrgResponse;},getInspTypeNavData:function(){return this.oInspResponse;},getStrgDetailsData:function(s,a){var S="/MARDSTORCollection(MATERIAL='"+this.vMaterial+"',"+"WERKS='"+this.vPlant+"',"+"LGORT='"+s+"')?$expand=ChangeData";var o=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,S);var e=a.matHookModifygetStrgDetailsData(S,o);if(e!==undefined){o=e;}return o;},getChngInspTypDtlData:function(m,p,i,s){this.setRequestHeaderCr(this.oBatchModel);var I="/QMATBASICCollection(MATERIAL='"+m+"',"+"WERKS='"+p+"',"+"ART='"+i+"')?$expand=ChangeData";var o=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,I);var e=s.matHookModifygetChngInspTypDtlData(I,o);if(e!==undefined){o=e;}return o;},getChngMrpAreaDtlData:function(m,p,M,s){this.setRequestHeaderCr(this.oBatchModel);var a="/MDMABASICCollection(MATERIAL='"+m+"',"+"WERKS='"+p+"',"+"BERID='"+M+"')?$expand=ChangeData";var o=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,a);var e=s.matHookModifygetChngMrpAreaDtlData(a,o);if(e!==undefined){o=e;}return o;},getChngPrdVerDtlData:function(m,p,P,s){this.setRequestHeaderCr(this.oBatchModel);var a="/MKALBASICCollection(MATERIAL='"+m+"',"+"WERKS='"+p+"',"+"MKALBASIC='"+P+"')?$expand=ChangeData";var o=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,a);var e=s.matHookModifygetChngPrdVerDtlData(a,o);if(e!==undefined){o=e;}return o;},getChngStrgLocDtlData:function(m,p,s,a){this.setRequestHeaderCr(this.oBatchModel);var q="/MARDCollection(MATERIAL='"+m+"',"+"WERKS='"+p+"',"+"LGORT='"+s+"')?$expand=ChangeData";var S=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=a.matHookModifygetChngStrgLocDtlData(q,S);if(e!==undefined){S=e;}return S;},getSalesData:function(v,p,a,s){if(this.vMatSalesIconTabSel===""){this.oBatchModel=s.getView().getModel("MDG_MATERIAL");this.vContextPath=p;var l=this;if(a==='CHANGE'){this.executeSalesChangeQuery();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesChange.initializeTables(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesChange.displayTableData(l,s);}else if(a==='CREATE'){if(this.oBatchModel!==undefined){this.setRequestHeaderCr(this.oBatchModel);this.executeSalesCreateGeneralQuery();this.aSalesdata=this.oSalesBasicDataResponse.data.__batchResponses[0].data.MATERIAL2MARASALESRel;this.aSalesDistOrgData=this.oSalesBasicDataResponse.data.__batchResponses[0];}if(this.oSalesBasicDataResponse!==undefined){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesCreate.initialize_SalesForms(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesCreate.displaySalesFormData(this.aSalesdata);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialSalesCreate.bindSalesTableData(this.aSalesDistOrgData,s);}}this.vMatSalesIconTabSel="X";}},getSalesTableData:function(t){this.oSalesBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");this.executeSalesCreateQuery(t);this.aSalesDetailData=this.oSalesresponse[0];this.aSalesTaxData=this.oSalesresponse[1];},executeSalesCreateGeneralQuery:function(){var s=this.aSalesSyncData;if(s!==undefined&&s!==""&&s!==null){this.oSalesBasicDataResponse=s;}else{var S="MARASALESCollection(MATERIAL='"+this.matNum+"')";var a="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MARASALESRel,MATERIAL2MVKESALESRel";this.oSalesBasicDataResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,a);}if(a!==undefined){var e=this.oS3Controller.matHookModifyMatSalesCreateData(S,a,this.oSalesBasicDataResponse);if(e!==undefined){this.oSalesBasicDataResponse=e;}}},executeSalesCreateQuery:function(t){var b=[];var v=this.aSalesDistOrgData.data.MATERIAL2MVKESALESRel.results[t].VKORG;var a=this.aSalesDistOrgData.data.MATERIAL2MVKESALESRel.results[t].VTWEG;this.setRequestHeaderCr(this.oSalesBatchModel);var S="MVKECollection(MATERIAL='"+this.matNum+"',VKORG='"+v+"',VTWEG='"+a+"')";var T="MVKESALESCollection(MATERIAL='"+this.matNum+"',VKORG='"+v+"',VTWEG='"+a+"')?$expand=MVKESALES2MLANSALESRel,MVKESALES2SALESTXTRel";fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,S,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,T,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oSalesBatchModel,this.oS3Controller);this.oSalesresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();},getSalesDetailData:function(){return this.aSalesDetailData;},getSalesTaxData:function(){return this.aSalesTaxData;},setMatSalesOrgInstance:function(s){this.salesOrgController=s;},getMatSalesOrgInstance:function(){return this.salesOrgController;},executeSalesChangeQuery:function(){var s=fcg.mdg.approvecrv2.util.DataAccess.getAsyncBatchData();if(s===null||s===""||s===undefined||s.length===0){var b=[];this.oSalesBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");this.setRequestHeaderCr(this.oSalesBatchModel);var m="MARASALESCollection(MATERIAL='"+this.matNum+"')?$expand=ChangeData";var S="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKERel/ChangeData";var a="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKESALESRel/MVKESALES2MLANSALESRel/ChangeData";var c="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MVKESALESRel/MVKESALES2SALESTXTRel/ChangeData";fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,m,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,S,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,a,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oSalesBatchModel,c,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oSalesBatchModel,this.oS3Controller);this.oSalesresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();}else{this.oSalesresponse=s;}this.aMARASalesData=this.oSalesresponse[0];this.aSalesnDisbData=this.oSalesresponse[1];this.aSalesTaxData=this.oSalesresponse[2];this.aSalesTextData=this.oSalesresponse[3];var e=this.oS3Controller.matHookModifyMatSalesChangedData(m,S,a,c,this.oSalesresponse);if(e!==undefined){this.oSalesresponse=e;}},getMARASalesDetailData:function(){return this.aMARASalesData;},getSalesNDisbDetailData:function(){return this.aSalesnDisbData;},getMVKESalesTaxDetailData:function(){return this.aSalesTaxData;},getMVKESalesTextDetailData:function(){return this.aSalesTextData;},setHeaderToolbar:function(t,T){var o=new sap.m.Title();o.setText(T);o.addStyleClass("sapThemeFontSize");var h=new sap.m.Toolbar();h.addContent(o);t.setHeaderToolbar(h);},binarySearchSalesNDisb:function(s,a,b){var c=b.results.length;var l,p=0;var d=0;do{l=p;if(b.results[p].VKORG>s&&b.results[p].VTWEG>a){c=p+1;p-=d;}else if(b.results[p].VKORG===s&&b.results[p].VTWEG===a){return b.results[p];}d=Math.floor((c-p)/2);p+=d;}while(l!==p);return-1;},getCreateEntityAction:function(){return this.sCreateEntityAction;},getDeleteEntityAction:function(){return this.sDeleteEntityAction;},getUpdateEntityAction:function(){return this.sUpdateEntityAction;},getDeletedInstanceString:function(){return this.sDeletedInstance;},getAddedInstanceString:function(){return this.sAddedInstance;},getNotMaintString:function(){return this.sNotMaint;},getDeletedAttributeString:function(){return this.sDeletedAttribute;},getAddedAttributeString:function(){return this.sAddedAttribute;},getWarehouseData:function(v,p,a,s){if(this.vMatWarehouseIconTabSel===""){this.vContextPath=p;if(a==='CREATE'){this.oWarehouseCreateModel=s.getView().getModel("MDG_MATERIAL");if(this.oWarehouseCreateModel!==undefined){this.executeWarehouseCreateQuery();}if(this.awhCreateData!==undefined){fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseCreate.initializeWarehouseTabl(this.awhCreateData,this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseCreate.displayWarehouseData(this.awhCreateData,this.oS3Controller);}}else if(a==='CHANGE'){this.oWarehouseChangeModel=s.getView().getModel("MDG_MATERIAL");this.executeWarehouseChangeQuery();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseChange.initializeWarehouseChangeTables(this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialWarehouseChange.displayWarehouseChangedTableData(s);}}this.vMatWarehouseIconTabSel="X";},executeWarehouseCreateQuery:function(){var s=this.aWhouseSyncData;if(s!==undefined&&s!==""&&s!==null){this.oWarehouseCreateResponse=s;}else{this.setRequestHeaderCr(this.oWarehouseCreateModel);this.whCreatequery="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MLGNSTORRel";this.oWarehouseCreateResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oWarehouseCreateModel,this.whCreatequery);var e=this.oS3Controller.matHookModifyMatWarehouseCreateData(this.whCreatequery,this.oWarehouseCreateResponse);if(e!==undefined){this.oWarehouseCreateResponse=e;}}this.awhCreateData=this.oWarehouseCreateResponse.data.__batchResponses[0].data.MATERIAL2MLGNSTORRel;},executeWarehouseDetailQuery:function(t){var w="MLGNSTORCollection(LGNUM='"+this.awhCreateData.results[t].LGNUM+"',MATERIAL='"+this.matNum+"')?$expand=MLGNSTOR2MLGTSTORRel";this.setRequestHeaderCr(this.oWarehouseCreateModel);this.oWarehouseDetailResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oWarehouseCreateModel,w);var e=this.oS3Controller.matHookModifyMatWarehouseDetailData(w,this.oWarehouseDetailResponse);if(e!==undefined){this.oWarehouseDetailResponse=e;}this.awhDetailData=this.oWarehouseDetailResponse.data;},executeWarehouseChangeQuery:function(){var s=this.aWhouseSyncData;if(s!==undefined&&s!==""&&s!==null){this.oWarehouseChangeResponse=s;}else{this.setRequestHeaderCr(this.oWarehouseChangeModel);var w="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2MLGNSTORRel/ChangeData,MATERIAL2MLGNSTORRel/MLGNSTOR2MLGTSTORRel/ChangeData";this.oWarehouseChangeResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oWarehouseChangeModel,w);var e=this.oS3Controller.matHookModifyMatWarehouseChangeData(w,this.oWarehouseChangeResponse);if(e!==undefined){this.oWarehouseChangeResponse=e;}}this.awhChangedData=this.oWarehouseChangeResponse.data.__batchResponses[0].data.MATERIAL2MLGNSTORRel;},setMatIteratorVisibility:function(r,m,a,t){m.setVisible(true);a.setVisible(true);if(r===1&&t>1){m.setEnabled(false);a.setEnabled(true);}else if(r===t&&r===1){m.setVisible(false);a.setVisible(false);}else if(r===t&&t>1){m.setEnabled(true);a.setEnabled(false);}else{m.setEnabled(true);a.setEnabled(true);}},getWarehouseDetailsData:function(){return this.awhDetailData.__batchResponses[0].data;},getWarehouseCreateData:function(){return this.awhCreateData;},getWarehouseChangedData:function(){return this.awhChangedData;},getPSTAT:function(){return this.PSTAT;},getDocumenAssignmentData:function(v,p,a,s){this.oBatchModel=s.getView().getModel("MDG_MATERIAL");this.vContextPath=p;var b="";if(a==='CREATE'){if(this.oBatchModel!==undefined){if(this.aDocAssignmentData===""){this.getsetDocCreateData();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentCreate.initializeDocAssignmentTabl(this.aDocAssignmentData.data,this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentCreate.displayDocAssignmentData(this.aDocAssignmentData.data,this.oS3Controller);}}}if(a==='CHANGE'){if(this.oBatchModel!==undefined){if(this.aDocAssignmentData===""){this.getsetDocChangeData();fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentChange.initializeDocTables(this.aDocAssignmentData.data,this.oS3Controller);fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentChange.displayTableData(this.oS3Controller);}}}},getsetDocCreateData:function(){var s=this.aDocSyncData;if(s!==undefined&&s!==""&&s!==null){this.aDocAssignmentData=s;}else{this.setRequestHeaderCr(this.oBatchModel);var a="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2DRADBASICRel";this.aDocAssignmentData=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,a);var e=this.oS3Controller.matHookModifyMatDocumentCreateData(a,this.aDocAssignmentData);if(e!==undefined){this.aDocAssignmentData=e;}}},getsetDocChangeData:function(){var s=this.aDocSyncData;if(s!==undefined&&s!==""&&s!==null){this.aDocAssignmentData=s;}else{this.setRequestHeaderCr(this.oBatchModel);var a="MATERIALCollection('"+this.matNum+"')?$expand=MATERIAL2DRADBASICRel/ChangeData,MATERIAL2DRADBASICRel/DRADBASIC2DRADTXTRel/ChangeData";this.aDocAssignmentData=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,a);var e=this.oS3Controller.matHookModifyMatDocumentChangeData(a,this.aDocAssignmentData);if(e!==undefined){this.aDocAssignmentData=e;}}},getDocAssignmentData:function(d,D,v,a){var s="/DRADBASICCollection"+"(DOKAR='"+D+"',DOKNR='"+d+"',DOKTL='"+a+"',DOKVR='"+v+"',MATERIAL='"+this.matNum+"')";var b;if(this.vMatAction==="CREATE"){b=s+"?$expand=DRADBASIC2DRADTXTRel,DRADBASIC2ORIGINALSRel";}else{b=s+"?$expand=DRADBASIC2DRADTXTRel/ChangeData,DRADBASIC2ORIGINALSRel";}this.setRequestHeaderCr(this.oBatchModel);var i=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialDocAssignmentCreate.getIsSingleFlag();if(this.aBufferedDataDoc===""&&i==="X"&&this.vMatAction==="CREATE"){this.aBufferedDataDoc=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,b);}if(i!=="X"||this.vMatAction==="CHANGE"){this.aBufferedDataDoc=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,b);}var e=this.oS3Controller.matHookModifyMatDocumentDetailData(b,this.aBufferedDataDoc);if(e!==undefined){this.aBufferedDataDoc=e;}return this.aBufferedDataDoc;},getDocAssignmentDetailsData:function(){return this.aDocAssignmentData;},binarySearchDocAssignment:function(s,a,d){var b=d.data.MATERIAL2DRADBASICRel.results.length;var l,p=0;var c=0;do{l=p;if(d.data.MATERIAL2DRADBASICRel.results[p].DOKNR>s){b=p+1;p-=c;}else if(d.data.MATERIAL2DRADBASICRel.results[p].DOKNR===s&&d.data.MATERIAL2DRADBASICRel.results[p].DOKAR===a){return d.data.MATERIAL2DRADBASICRel.results[p];}c=Math.floor((b-p)/2);p+=c;}while(l!==p);return-1;},getInstance:function(){var t=this;return t;},setMatGtinPanel:function(k){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q=k+"?$expand=MATERIAL2MEAN_GTINRel,MATERIAL2UNITOFMSRRel";this.setRequestHeaderCr(this.oBatchModel);this.oGtinResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);this.gtinresponse=this.oGtinResponse;var e=this.oS3Controller.matHookModifyMatgtincreateData(q,this.oGtinResponse);if(e!==undefined){this.oGtinResponse=e;}},setMatClassificationPanel:function(k){var q=k+"?$expand=MATERIAL2CLASSTYPERel/CLASSTYPE2CLASSASGNRel,MATERIAL2CLASSTYPERel/CLASSTYPE2VALUATIONRel";this.setRequestHdrNull(this.oBatchModel);this.Classificationresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookClassificationCreate(q,this.Classificationresponse);if(e!==undefined){this.Classificationresponse=e;}},setMatPurchasingPanel:function(p,P){var b=[];var q="";var Q="";Q="/MARAPURCHCollection"+p;q="/MARAQTMNGCollection"+P;this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,Q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.Response=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();this.PurchasingResponse=this.Response;var e=this.oS3Controller.matHookModifyMatPurchasingcreateData(Q,q,this.Response);if(e!==undefined){this.PurchasingResponse=e;}},setMatNotesPanel:function(k){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q=k+"?$expand=MATERIAL2LONGTEXTSRel";this.setRequestHeaderCr(this.oBatchModel);this.oNotesResponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);this.notesresponse=this.oNotesResponse;var e=this.oS3Controller.matHookModifyMatNotesCreateData(q,this.notesresponse);if(e!==undefined){this.notesresponse=e;}},setMatGtinChangedPanel:function(){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.getGeneralDataQuery(this.matNum);var Q=q+"?$expand=MATERIAL2UNITOFMSRRel/ChangeData,MATERIAL2MEAN_GTINRel/ChangeData";this.setRequestHeaderCr(this.oBatchModel);this.Response=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,Q);this.gtinchangedresponse=this.Response;var e=this.oS3Controller.matHookModifyMatGtinChangedData(Q,this.gtinchangedresponse);if(e!==undefined){this.gtinchangedresponse=e;}},setMatClassificationChangedPanel:function(k){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q=k+"?$expand=MATERIAL2CLASSTYPERel/ChangeData";this.setRequestHdrNull(this.oBatchModel);this.Classificationchangedresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatClassificationChangedData(q,this.Classificationchangedresponse);if(e!==undefined){this.Classificationchangedresponse=e;}},setMatPurchasingChangedPanel:function(p){var b=[];this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q="";var Q="";q="/MARAPURCHCollection"+p+"?$expand=ChangeData";Q="/MARAQTMNGCollection"+p+"?$expand=ChangeData";this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,Q,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.Response=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();this.Purchasingchangedresponse=this.Response;var e=this.oS3Controller.matHookModifyMatPurchChangedData(q,Q,this.Purchasingchangedresponse);if(e!==undefined){this.Purchasingchangedresponse=e;}},setMatNotesChangedPanel:function(){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q=fcg.mdg.approvecrv2.DomainSpecParts.Material.MaterialCreate.getGeneralDataQuery(this.matNum);var Q=q+"?$expand=MATERIAL2LONGTEXTSRel/ChangeData";this.setRequestHeaderCr(this.oBatchModel);this.Response=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,Q);this.Noteschangedresponse=this.Response;var e=this.oS3Controller.matHookModifyMatNotesChangedData(Q,this.notesresponse);if(e!==undefined){this.Noteschangedresponse=e;}},setMatReqPlanningPanel:function(p,c){var q,m,a,b;var B=[];if(this.vMatAction==='CREATE'){q="/MARCMRPCollection"+p;m="/MRPTXTCollection"+p;a="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MDMABASICRel";b="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MKALBASICRel";}else if(this.vMatAction==='CHANGE'){q="/MARCMRPCollection"+p+c;m="/MRPTXTCollection"+p+c;a="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MDMABASICRel/ChangeData";b="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MKALBASICRel/ChangeData";}this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,B);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,m,B);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,a,B);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,b,B);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.oMRPresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifyMatReqPlanningPanel(q,m,a,b,this.oMRPresponse);if(e!==undefined){this.oMRPresponse=e;}},setMatForecastingPanel:function(p,c){var q="";if(this.vMatAction==='CREATE'){q="/MARCFRCollection"+p;}else if(this.vMatAction==='CHANGE'){q="/MARCFRCollection"+p+c;}this.setRequestHeaderCr(this.oBatchModel);this.oForcastingresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatForecastingPanel(q,this.oForcastingresponse);if(e!==undefined){this.oForcastingresponse=e;}},setMatQltyMngmntPanel:function(p,c){var q,i;var b=[];if(this.vMatAction==='CREATE'){q="/MARCQTMNGCollection"+p;i="/MARCBASICCollection"+p+"?$expand=MARCBASIC2QMATBASICRel";}else if(this.vMatAction==='CHANGE'){q="/MARCQTMNGCollection"+p+c;i="/MARCBASICCollection"+p+"?$expand=MARCBASIC2QMATBASICRel/ChangeData";}this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,i,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.oQMresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifyMatQltyMngmntPanel(q,i,this.oQMresponse);if(e!==undefined){this.oQMresponse=e;}this.oInspResponse=this.oQMresponse[1];},setMatWorkSchdlngPanel:function(p,c){var q;if(this.vMatAction==='CREATE'){q="/MARCWRKSDCollection"+p;}else if(this.vMatAction==='CHANGE'){q="/MARCWRKSDCollection"+p+c;}this.setRequestHeaderCr(this.oBatchModel);this.oWorkSdresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatWorkSchdlngPanel(q,this.oWorkSdresponse);if(e!==undefined){this.oWorkSdresponse=e;}},setMatStrgCstngPanel:function(p,c){var q,s,a;var b=[];if(this.vMatAction==='CREATE'){q="/MARCSTORECollection"+p;s="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MARDRel";a="/MARCCSTNGCollection"+p;}else if(this.vMatAction==='CHANGE'){q="/MARCSTORECollection"+p+c;s="/MARCBASICCollection"+p+"?$expand=MARCBASIC2MARDRel/ChangeData";a="/MARCCSTNGCollection"+p+c;}this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,s,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,a,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.oStrgCstngresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifyMatStrgCstngPanel(q,s,a,this.oStrgCstngresponse);if(e!==undefined){this.oStrgCstngresponse=e;}this.oStrgResponse=this.oStrgCstngresponse[1];},setMatReqPlanningPanelChng:function(k){var b=[];var q=k+'?$expand=MATERIAL2MARCMRPRel/ChangeData,MATERIAL2MRPTXTRel/ChangeData';var m=k+'?$expand=MATERIAL2MARCBASICRel/MARCBASIC2MDMABASICRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MKALBASICRel/ChangeData';this.setRequestHeaderCr(this.oBatchModel);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,q,b);fcg.mdg.approvecrv2.util.DataAccess.addBatchOperation(this.oBatchModel,m,b);fcg.mdg.approvecrv2.util.DataAccess.performSubmitBatch(this.oBatchModel,this.oS3Controller);this.oMRPChngresponse=fcg.mdg.approvecrv2.util.DataAccess.getBatchData();var e=this.oS3Controller.matHookModifyMatReqPlanningPanelChng(q,m,this.oMRPChngresponse);if(e!==undefined){this.oMRPChngresponse=e;}},setMatForecastingPanelChng:function(k){var q=k+'?$expand=MATERIAL2MARCFRRel/ChangeData';this.setRequestHeaderCr(this.oBatchModel);this.oForcastingChngresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatForecastingPanelChng(q,this.oForcastingChngresponse);if(e!==undefined){this.oForcastingChngresponse=e;}},setMatQltyMngmntPanelChng:function(k){var q=k+'?$expand=MATERIAL2MARCQTMNGRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2QMATBASICRel/ChangeData';this.setRequestHeaderCr(this.oBatchModel);this.oQMChngresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatQltyMngmntPanelChng(q,this.oQMChngresponse);if(e!==undefined){this.oQMChngresponse=e;}},setMatWorkSchdlngPanelChng:function(k){var q=k+'?$expand=MATERIAL2MARCWRKSDRel/ChangeData';this.setRequestHeaderCr(this.oBatchModel);this.oWorkSdChngresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatWorkSchdlngPanelChng(q,this.oWorkSdChngresponse);if(e!==undefined){this.oWorkSdChngresponse=e;}},setMatStrgCstngPanelChng:function(k){var q=k+'?$expand=MATERIAL2MARCSTORERel/ChangeData,MATERIAL2MARCCSTNGRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MARDMRPRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MARDSTORRel/ChangeData';this.setRequestHeaderCr(this.oBatchModel);this.oStrgCstngChngresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,q);var e=this.oS3Controller.matHookModifyMatStrgCstngPanelChng(q,this.oStrgCstngChngresponse);if(e!==undefined){this.oStrgCstngChngresponse=e;}},setMatValuationPanel:function(){this.oBatchModel=this.oS3Controller.getView().getModel("MDG_MATERIAL");var q,s;this.vPlantnext=this.vPlant;if(this.vMatAction==='CREATE'){q="/MARCBASICCollection"+"(MATERIAL='"+this.matNum+"',WERKS='"+this.vPlant+"')";s=q+"?$expand=MARCBASIC2MBEWCSTNGRel,MARCBASIC2MBEWVALUARel";}if(this.vMatAction==='CHANGE'){q="/MARCBASICCollection"+"(MATERIAL='"+this.matNum+"',WERKS='"+this.vPlant+"')";s=q+"?$expand=MARCBASIC2MBEWCSTNGRel/ChangeData,MARCBASIC2MBEWVALUARel/ChangeData";}this.setRequestHeaderCr(this.oBatchModel);this.oValuationresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,s);},setMatValuationPanelChng:function(k){var s=k+"?$expand=MATERIAL2MARCBASICRel/MARCBASIC2MBEWCSTNGRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MBEWVALUARel/MBEWVALUA2MBEWVALCTNGRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MBEWVALUARel/MBEWVALUA2MBEWMLACRel/ChangeData,MATERIAL2MARCBASICRel/MARCBASIC2MBEWVALUARel/MBEWVALUA2MBEWMLVALRel/ChangeData";this.setRequestHeaderCr(this.oBatchModel);this.oValuationChangedresponse=fcg.mdg.approvecrv2.util.DataAccess.readData(this.oBatchModel,s);},setPlantSyncData:function(s){this.aPlantSyncData="";this.aPlantSyncData=s;},setSalesSyncData:function(s){this.aSalesSyncData="";this.aSalesSyncData=s;},setWhouseSyncData:function(s){this.aWhouseSyncData="";this.aWhouseSyncData=s;},setDocSyncData:function(s){this.aDocSyncData="";this.aDocSyncData=s;},setTablePersonalization:function(i,t,p){var T={container:"fcg.mdg.approvecrv2",item:i};var P=sap.ushell.Container.getService("Personalization").getPersonalizer(T);var o=new sap.m.TablePersoController({table:t,persoService:P});o.activate();p.attachPress(function(){o.openDialog();});},getLastCr:function(){return this.vCId;}};
