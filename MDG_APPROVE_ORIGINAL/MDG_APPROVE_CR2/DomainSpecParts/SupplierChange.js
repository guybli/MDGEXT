/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("fcg.mdg.approvecrv2.util.DataAccess");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.BPChange");fcg.mdg.approvecrv2.DomainSpecParts.SupplierChange={oChangetitle:"",oChangeauthorization:"",vAddrTabResults:{aAddressDetails:[]},vAddrUsgResults:{aAddrUsages:[]},oAddressItemTemp:"",aAddresses:[],aAddressUsages:[],noCompcodeData:"",noSalesData:"",vRelTabResults:{aRelDetails:[]},oItemTempRel:"",aRelations:[],oS3Controller:"",getSuppCompanyCodeData:function(s,p,a){this.oS3Controller=a;var c=p;var b='BP_Root/SP_MultipleAssignmentsRel/';var C=',';var v='/ChangeData';c=c+b+"SP_AssignedCompanyCodesRel"+v+C;c=c+b+"SP_AssignedSupplierRel"+v;c=c+C+b+"SP_AssignedCompanyCodesRel/SP_CompDunningAreasRel"+v;c=c+C+b+"SP_AssignedCompanyCodesRel/SP_CompWithholdingTaxesRel"+v;var e=a.custHookChangeCompCodeQuery(c);if(e!==undefined){c=e;}return c;},getPurchaseData:function(s,p,a){this.oS3Controller=a;var c=p;var b='BP_Root/SP_MultipleAssignmentsRel/';var C='/ChangeData';var v=',';c=c+b+"SP_AssignedPurchasingOrgsRel"+C+v;c=c+b+"SP_AssignedSupplierRel"+C;c=c+v+b+"SP_AssignedPurchasingOrgsRel/SP_PurchOrgPurchasingOrg2Rel"+C;c=c+v+b+"SP_AssignedPurchasingOrgsRel/SP_PurchOrgPartnerFunctionsRel"+C;var e=a.custHookChangeSalesQuery(c);if(e!==undefined){c=e;}return c;},displaySuppCompanyCodeData:function(a,s){var b=false;var c="";var I=this.getTableTemplate();var n="";var o="";var d="";var e="";var f="";var g="";var h="";var m="";var A="";var p="";var q="";var D="";var t="";var u;var v="";var w="";var l,k;var x="";var S=[];var y,z;var B=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle();if(a.BP_Root.SP_MultipleAssignmentsRel.results!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results.length>0){if(a.BP_Root.SP_MultipleAssignmentsRel.results.length>1){b=true;}var C={dataitems:[]};for(var i=0;i<a.BP_Root.SP_MultipleAssignmentsRel.results.length;i++){if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedCompanyCodesRel.results!==undefined){for(var j=0;j<a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedCompanyCodesRel.results.length;j++){var E=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedCompanyCodesRel.results[j];if(E.ChangeData.results!==undefined){D="";for(k=0;k<E.ChangeData.results.length;k++){n=E.ChangeData.results[k].NewValue;o=E.ChangeData.results[k].OldValue;d=E.ChangeData.results[k].NewValueText;e=E.ChangeData.results[k].OldValueText;A=E.ChangeData.results[k].Attribute;h=E.ASSIGNMENT_ID;var F=E.BUKRS;w=h+F;f=this.getValue(n,d,A,"new");g=this.getValue(o,e,A,"old");if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID__TXT;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var G=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;x=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(G.KTOKK,G.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,x);}else{c="";}var H=E.ChangeData.results[k].Attribute;var J=E.ChangeData.results[k].AttributeDesc;var K='';if(H==='ZSABE'||H==='EIKTO'){K=E.ChangeData.results[k].AttributeDesc;}else{K=fcg.mdg.approvecrv2.util.Formatter.getAttrbibuteDescription(H,J);}D={"Context":E.ChangeData.results[k].Context,"EntityDesc":B.getText("GL_COMP_CODE"),"Dunning":"","Key":w,"Withhld":"","KeyValue":c,"AttributeDesc":K,"EntityAction":E.ChangeData.results[k].EntityAction,"NewValueText":f,"OldValue":g,"ParentContext":"","ParentEntityDesc":"","ParentEntityVisible":false};C.dataitems.push(D);s.oSuppCompCode.aSuppCompCode.push(D);}}if(E.SP_CompDunningAreasRel.results!==undefined&&E.SP_CompDunningAreasRel.results.length>0){D="";for(k=0;k<E.SP_CompDunningAreasRel.results.length;k++){var L=E.SP_CompDunningAreasRel.results[k];if(L.ChangeData.results!==undefined){for(l=0;l<L.ChangeData.results.length;l++){n=L.ChangeData.results[l].NewValue;o=L.ChangeData.results[l].OldValue;d=L.ChangeData.results[l].NewValueText;e=L.ChangeData.results[l].OldValueText;A=L.ChangeData.results[l].Attribute;f=this.getValue(n,d,A,"new");g=this.getValue(o,e,A,"old");var M=L.MABER;v=L.MABER__TXT;if(v===""){v=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("DefaultDunning");}t=L.BUKRS;h=L.ASSIGNMENT_ID;var N=h+t+M;var O=h+t;u=this.getValue(M,v);var P=E.BUKRS__TXT+"("+E.BUKRS+")";if(E.ChangeData.results.length===0){if(u===""){u=L.ChangeData.results[l].Context;}else{u=u;}}if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID__TXT;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var G=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;x=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(G.KTOKK,G.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,x);}else{c="";}D={"Context":u,"Key":O,"KeyValue":c,"Dunning":N,"EntityDesc":B.getText("DunningArea"),"Withhld":"","AttributeDesc":L.ChangeData.results[l].AttributeDesc,"EntityAction":L.ChangeData.results[l].EntityAction,"NewValueText":f,"OldValue":g,"ParentContext":P,"ParentEntityDesc":B.getText("GL_COMP_CODE"),"ParentEntityVisible":true};C.dataitems.push(D);s.oSuppCompCode.aSuppCompCode.push(D);}}}}if(E.SP_CompWithholdingTaxesRel.results!==undefined&&E.SP_CompWithholdingTaxesRel.results.length>0){D="";for(k=0;k<E.SP_CompWithholdingTaxesRel.results.length;k++){var W=E.SP_CompWithholdingTaxesRel.results[k];if(W.ChangeData.results!==undefined){for(l=0;l<W.ChangeData.results.length;l++){n=W.ChangeData.results[l].NewValue;o=W.ChangeData.results[l].OldValue;d=W.ChangeData.results[l].NewValueText;e=W.ChangeData.results[l].OldValueText;A=W.ChangeData.results[l].Attribute;f=this.getValue(n,d,A,"new");g=this.getValue(o,e,A,"old");var Q=W.WITHT;v=W.WITHT__TXT;t=W.BUKRS;h=W.ASSIGNMENT_ID;var R=h+t+Q;O=h+t;u=this.getValue(Q,v);var P=E.BUKRS__TXT+"("+E.BUKRS+")";if(E.ChangeData.results.length===0){if(u===""){u=W.ChangeData.results[l].Context;}else{u=u;}}if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID__TXT;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var G=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;x=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(G.KTOKK,G.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,x);}else{c="";}D={"Context":u,"Key":O,"KeyValue":c,"Dunning":"","EntityDesc":B.getText("withhdtax"),"Withhld":R,"EntityAction":W.ChangeData.results[l].EntityAction,"AttributeDesc":W.ChangeData.results[l].AttributeDesc,"NewValueText":f,"OldValue":g,"ParentContext":P,"ParentEntityDesc":B.getText("GL_COMP_CODE"),"ParentEntityVisible":true};C.dataitems.push(D);s.oSuppCompCode.aSuppCompCode.push(D);}}}}}}}var T=[];s.compCodeResults={dataitems:[]};for(l=0;l<s.oSuppCompCode.aSuppCompCode.length;l++){T.push(s.oSuppCompCode.aSuppCompCode[l].Key);}T.sort();s.aUniqueCompcode=this.eliminateDuplicatesRecords(T);for(var r=0;r<s.aUniqueCompcode.length;r++){for(l=0;l<s.oSuppCompCode.aSuppCompCode.length;l++){if(s.aUniqueCompcode[r]===s.oSuppCompCode.aSuppCompCode[l].Key){s.compCodeResults.dataitems.push(s.oSuppCompCode.aSuppCompCode[l]);}}}s.compCodeResults.dataitems.sort();s.compCodeResults.dataitems.reverse();if(s.compCodeResults.dataitems.length>0){var U=new sap.ui.model.json.JSONModel();U.setData(s.compCodeResults);sap.ui.getCore().byId("SCompCodeLayout").removeAllContent();sap.ui.getCore().byId("SDunningLayout").removeAllContent();sap.ui.getCore().byId("SWithhldTaxLayout").removeAllContent();s.oCompcodeTable="";s.oCompcodeTable=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Tablereuse',s);sap.ui.getCore().byId("SCompCodeLayout").addContent(s.oCompcodeTable);s.oCompcodeTable.setGrowing(true);s.oCompcodeTable.setModel(U);I.attachPress({Entity:"SuppCompanyCode",Key:s.compCodeResults.dataitems,EntityData:a.BP_Root.SP_MultipleAssignmentsRel},s.navtoSubDetail,s);if(b===true){S=[];z=new sap.ui.model.Sorter("KeyValue",false,true);y=new sap.ui.model.Sorter("Key",false,false);S.push(z);S.push(y);s.oCompcodeTable.bindItems('/dataitems',I,S,'');}else{S=[];y=new sap.ui.model.Sorter("Key",true,false);z=new sap.ui.model.Sorter("Context",true,false);S.push(y);S.push(z);s.oCompcodeTable.bindItems('/dataitems',I,S,'');}}else{this.showNodataCCMsg();}s.aUniqueCompcode=[];return;}else{this.showNodataCCMsg();}s.oSuppCompCode={aSuppCompCode:[]};},displayPurchaseData:function(a,s){var b=false;var c="";var I=this.getTableTemplate();var n="";var o="";var d="";var e="";var f="";var g="";var h="";var m="";var p="";var q="";var D="";var t="";var u="";var A="";var v="";var K="";var w="";var l,k;var B=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle();if(a.BP_Root.SP_MultipleAssignmentsRel.results!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results.length>0){if(a.BP_Root.SP_MultipleAssignmentsRel.results.length>1){b=true;}var x={dataitems:[]};for(var i=0;i<a.BP_Root.SP_MultipleAssignmentsRel.results.length;i++){if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedPurchasingOrgsRel.results!==undefined){for(var j=0;j<a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedPurchasingOrgsRel.results.length;j++){var y=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedPurchasingOrgsRel.results[j];var P=y.EKORG__TXT+" ("+y.EKORG+")";if(y.ChangeData.results!==undefined){D="";for(k=0;k<y.ChangeData.results.length;k++){n=y.ChangeData.results[k].NewValue;o=y.ChangeData.results[k].OldValue;d=y.ChangeData.results[k].NewValueText;e=y.ChangeData.results[k].OldValueText;v=y.ChangeData.results[k].Attribute;h=y.ASSIGNMENT_ID;K=h+y.EKORG;f=this.getValue(n,d,v,"new");g=this.getValue(o,e,v,"old");if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i]!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var z=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;w=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(z.KTOKK,z.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,w);}else{c="";}t=y.ChangeData.results[k].Attribute;u=y.ChangeData.results[k].AttributeDesc;A=fcg.mdg.approvecrv2.util.Formatter.getAttrbibuteDescription(t,u);if(t==='EIKTO'){A=y.ChangeData.results[k].AttributeDesc;}D={"Context":y.ChangeData.results[k].Context,"Key":K,"Subrange":"","KeyValue":c,"AttributeDesc":A,"EntityDesc":B.getText("SP_purchorg"),"EntityAction":y.ChangeData.results[k].EntityAction,"NewValueText":f,"OldValue":g,"ParentContext":"","ParentEntityDesc":"","ParentEntityVisible":false};x.dataitems.push(D);s.oPurchaseArea.aPurchaseArea.push(D);}}if(y.SP_PurchOrgPartnerFunctionsRel.results!==undefined&&y.SP_PurchOrgPartnerFunctionsRel.results.length>0){D="";for(k=0;k<y.SP_PurchOrgPartnerFunctionsRel.results.length;k++){var C=y.SP_PurchOrgPartnerFunctionsRel.results[k];for(l=0;l<C.ChangeData.results.length;l++){n=C.ChangeData.results[l].NewValue;o=C.ChangeData.results[l].OldValue;d=C.ChangeData.results[l].NewValueText;e=C.ChangeData.results[l].OldValueText;v=C.ChangeData.results[l].Attribute;f=this.getValue(n,d,v,"new");g=this.getValue(o,e,v,"old");h=y.ASSIGNMENT_ID;var E=y.EKORG;K=h+E;var F=C.PARVW;var G=C.PARVW__TXT;var H=this.getValue(F,G);if(y.ChangeData.results.length===0){if(H===""){H=C.ChangeData.results[l].Context;}else{H=H;}}if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var z=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;w=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(z.KTOKK,z.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,w);}else{c="";}t=C.ChangeData.results[l].Attribute;u=C.ChangeData.results[l].AttributeDesc;A=fcg.mdg.approvecrv2.util.Formatter.getAttrbibuteDescription(t,u);D={"Context":H,"Key":K,"Subrange":"","KeyValue":c,"AttributeDesc":A,"EntityAction":C.ChangeData.results[l].EntityAction,"NewValueText":f,"EntityDesc":B.getText("PartnerFunc"),"OldValue":g,"ParentContext":P,"ParentEntityDesc":B.getText("SP_purchorg"),"ParentEntityVisible":true};x.dataitems.push(D);s.oPurchaseArea.aPurchaseArea.push(D);}}}if(y.SP_PurchOrgPurchasingOrg2Rel.results!==undefined&&y.SP_PurchOrgPurchasingOrg2Rel.results.length>0){D="";for(k=0;k<y.SP_PurchOrgPurchasingOrg2Rel.results.length;k++){var J=y.SP_PurchOrgPurchasingOrg2Rel.results[k];for(l=0;l<J.ChangeData.results.length;l++){n=J.ChangeData.results[l].NewValue;o=J.ChangeData.results[l].OldValue;d=J.ChangeData.results[l].NewValueText;e=J.ChangeData.results[l].OldValueText;t=J.ChangeData.results[l].Attribute;u=J.ChangeData.results[l].AttributeDesc;A=fcg.mdg.approvecrv2.util.Formatter.getAttrbibuteDescription(t,u);f=this.getValue(n,d,t,"new");g=this.getValue(o,e,t,"old");var L=y.EKORG;h=y.ASSIGNMENT_ID;var M="";var N=false;var O=B.getText("SubRange");var Q=B.getText("plant");if(J.LTSNR!=='|#-#|'&&J.LTSNR!==''){M=O+": "+fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(J.LTSNR,J.LTSNR__TXT);N=true;}else if(J.WERKS!=='|#-#|'&&J.WERKS!==''){if(N)M=M+"; ";M=M+Q+" : "+J.WERKS__TXT+"("+J.WERKS+")";}K=h+L+J.LTSNR+J.WERKS;if(b===true){m=a.BP_Root.SP_MultipleAssignmentsRel.results[i].STANDARD;p=a.BP_Root.SP_MultipleAssignmentsRel.results[i].OBJECT_ID;q=a.BP_Root.SP_MultipleAssignmentsRel.results[i].REASON_ID__TXT;if(a.BP_Root.SP_MultipleAssignmentsRel.results[i]!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK!==undefined&&a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel.KTOKK__TXT!==undefined){var z=a.BP_Root.SP_MultipleAssignmentsRel.results[i].SP_AssignedSupplierRel;w=fcg.mdg.approvecrv2.util.Formatter.getKeyDesc(z.KTOKK,z.KTOKK__TXT);}c=this.getSubheaderWithAccGrp(m,p,q,w);}else{c="";}D={"Context":M,"Key":K,"KeyValue":c,"AttributeDesc":A,"EntityAction":J.ChangeData.results[l].EntityAction,"NewValueText":f,"EntityDesc":B.getText("diffpurchdata"),"OldValue":g,"ParentContext":P,"ParentEntityDesc":B.getText("SP_purchorg"),"ParentEntityVisible":true};x.dataitems.push(D);s.oPurchaseArea.aPurchaseArea.push(D);}}}}}}var R=[];s.PurchaseAreaResults={dataitems:[]};for(l=0;l<s.oPurchaseArea.aPurchaseArea.length;l++){R.push(s.oPurchaseArea.aPurchaseArea[l].Key);}R.sort();s.aUniqueCompcode=this.eliminateDuplicatesRecords(R);for(var r=0;r<s.aUniqueCompcode.length;r++){for(l=0;l<s.oPurchaseArea.aPurchaseArea.length;l++){if(s.aUniqueCompcode[r]===s.oPurchaseArea.aPurchaseArea[l].Key){s.PurchaseAreaResults.dataitems.push(s.oPurchaseArea.aPurchaseArea[l]);}}}if(s.PurchaseAreaResults.dataitems.length>0){var S=new sap.ui.model.json.JSONModel();S.setData(s.PurchaseAreaResults);sap.ui.getCore().byId("SPurchaseLayout").removeAllContent();sap.ui.getCore().byId("SSubrangeLayout").removeAllContent();s.oSalesTable="";s.oSalesTable=sap.ui.xmlfragment('fcg.mdg.approvecrv2.frag.Tablereuse',s);sap.ui.getCore().byId("SPurchaseLayout").addContent(s.oSalesTable);if(s.oApplicationFacade.isMock()){s.oSalesTable.setGrowing(false);}else{s.oSalesTable.setGrowing(true);}s.oSalesTable.setModel(S);I.attachPress({Entity:"PurchaseData",Key:s.PurchaseAreaResults.dataitems,EntityData:a.BP_Root.SP_MultipleAssignmentsRel},s.navtoSubDetail,s);if(b===true){var T=[];var U=new sap.ui.model.Sorter("KeyValue",false,true);var V=new sap.ui.model.Sorter("Key",false,false);T.push(U);T.push(V);s.oSalesTable.bindItems('/dataitems',I,T,'');}else{s.oSalesTable.bindItems('/dataitems',I,'','');}}else{this.showNodataPurchMsg();}s.aUniqueCompcode=[];return;}else{this.showNodataPurchMsg();}s.oPurchaseArea={aPurchaseArea:[]};},getSubheader:function(s,o,r){var a="";var p=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("PC_YES");var b=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Reason");if(s==='X'){a=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor")+","+sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Standard");}if(s!=='X'&&o!==""&&r!==""){a=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor")+"("+o+"),"+b+": "+r;}if(s!=='X'&&o!==""&&r===""){a=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor")+"("+o+")";}if(s!=='X'&&o===""&&r!==""){a=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor")+","+b+": "+r;}if(s!=='X'&&o===""&&r===""){a=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor");}return a;},getSubheaderWithAccGrp:function(s,o,r,a){var b="";var c=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Reason");var d=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("AccountGroup");var e=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("ERP_Vendor");var f=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Standard");b=e;if(o!==""){if(b!=="")b=b+", "+"("+o+")";else b=e+"("+o+")";}if(r!==""){if(b!=="")b=b+", "+c+": "+r;else b=c+": "+r;}if(a!==""){if(b!=="")b=b+", "+d+": "+a;else b=d+": "+a;}if(s==='X'){if(b!=="")b=b+", "+f;else b=f;}return b;},getTableTemplate:function(){var i=new sap.m.ColumnListItem({type:"Navigation",cells:[new sap.m.VBox({items:[new sap.m.ObjectIdentifier({text:"{EntityDesc}",title:"{Context}"}).addStyleClass("objectIdentifier_text"),new sap.m.ObjectIdentifier({text:"{ParentEntityDesc}",title:"{ParentContext}",visible:"{ParentEntityVisible}"}).addStyleClass("objIdentifier_margin").addStyleClass("objectIdentifier_text")]}),new sap.m.ObjectIdentifier({text:{path:"AttributeDesc"},title:{path:"NewValueText"}}),new sap.m.Text({text:{path:"OldValue"}})]});return i;},getPOTableTemplate:function(){var i=new sap.m.ColumnListItem({type:"Navigation",cells:[new sap.m.VBox({items:[new sap.m.ObjectIdentifier({text:"{EntityDesc}",title:"{Context}"}).addStyleClass("objectIdentifier_text"),new sap.m.ObjectIdentifier({text:"{POEntityDesc}",title:"{POContext}",visible:"{POVisible}"}).addStyleClass("objIdentifier_margin").addStyleClass("objectIdentifier_text")]}),new sap.m.ObjectIdentifier({text:"{AttributeDesc}",title:"{NewValueText}"}),new sap.m.Text({text:"{OldValue}"})]});return i;},getAddressTableTemplate:function(m){var i=new sap.m.ColumnListItem({type:"Navigation",cells:[new sap.m.ObjectIdentifier({text:{path:"Context"},title:{path:"EntityDesc"}}),new sap.m.ObjectIdentifier({text:{path:"AttributeDesc"},title:{path:"NewValueText",formatter:function(){var c=this.getBindingContext();var n=m.getProperty("NewValue",c);var N=m.getProperty("NewValueText",c);if(n==='X')return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Y");else if(N!==''&&n!=='')return N+'('+n+')';else if(n===''&&N!=='')return N;else return n;}}}),new sap.m.Text({text:{path:"OldValue",formatter:function(){var c=this.getBindingContext();var o=m.getProperty("OldValue",c);var O=m.getProperty("OldValueText",c);if(o==='X')return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Y");else if(O!==''&&o!=='')return O+'('+o+')';else if(o===''&&O!=='')return O;else return o;}}})]});return i;},getChangeTableTemplate:function(m){var i=new sap.m.ColumnListItem({type:"Navigation",cells:[new sap.m.ObjectIdentifier({text:{path:"Context"},title:{path:"EntityDesc"}}),new sap.m.ObjectIdentifier({text:{path:"AttributeDesc"},title:{path:"NewValueText",formatter:function(){var c=this.getBindingContext();var n=m.getProperty("NewValue",c);var N=m.getProperty("NewValueText",c);if(N!==''&&n!=='')return N+'('+n+')';else if(n===''&&N!=='')return N;else return n;}}}),new sap.m.Text({text:{path:"OldValue",formatter:function(){var c=this.getBindingContext();var o=m.getProperty("OldValue",c);var O=m.getProperty("OldValueText",c);if(O!==''&&o!=='')return O+'('+o+')';else if(o===''&&O!=='')return O;else return o;}}})]});return i;},getValue:function(V,a,A,c){var f="";if(V!==""&&a!==""){if(V==="X"||A==="DTAMS"||A==="PERIV"||A==="KDKG1"||A==="KDKG2"||A==="KDKG3"||A==="KDKG4"||A==="KDKG5"||A==="LEGALORG"||A==="LEGALFORM"||A==="J_1KFTIND"||A==="FITYP"||A==="TITLE"||A==="AUTHORIZATIONGROUP"||A==="CFOPC"||A==="J_1KFTBUS"||A==="REASON_ID"||A==="MARITALSTATUS"||A==="SEX"||A==="DLGRP"||A==="QSSYS"||A==="TITLE_ACA1"||A==="TITLE_KEY"||A==="PODKZ"||A==="TAXTYPE"||A==="TAXBS"||A==="FRGRP"||A==="ZINRT"||A==="QSBGR"||A==="ZGRUP"||A==="MEPRF"||A==="SKRIT"||A==="KZABS"||A==="PAPRF"||A==="MEGRU"||A==="ZOLLA")f=a;else f=a+"("+V+")";}if(V===""&&a!==""){f=a;}if(V!==""&&a===""){if(A!=="DTAWS"){var n=fcg.mdg.approvecrv2.util.Formatter.defaultValueChange(V);if(n!==""){f=n;}else f=V;}else f=V;}if(V==="X"&&(a===""||a===sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("PC_YES"))){f=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("PC_YES");}if((A==="QSSKZ"||A==="EXPVZ"||A==="ZOLLA"||A==="CERDT"||A==="KULTG"||A==="PERNR"||A==="PLIFZ"||A==="QSZDT"||A==="ZINRT")&&(V==="00.00.0000"||V==="0000.00.00"||V==="0000"||parseInt(V)===0||V==="")&&a===""){if(c==="new")f="("+sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("PC_DELETED")+")";else if(c==="old")f="("+sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("PC_NOT_MAIN")+")";}return f;},eliminateDuplicatesRecords:function(I){var i;var l=I.length,o=[],O={};for(i=0;i<l;i++)O[I[i]]=0;for(i in O)o.push(i);return o;},showNodataPurchMsg:function(){if(this.purchText)this.purchText.destroy();this.purchText=new sap.m.Text("purchTxt");this.purchText.setText(sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Nodata"));sap.ui.getCore().byId("SPurchaseLayout").removeAllContent();sap.ui.getCore().byId("SSubrangeLayout").removeAllContent();sap.ui.getCore().byId("SPurchaseLayout").addContent(this.purchText);},showNodataCCMsg:function(){if(this.ccSupText)this.ccSupText.destroy();this.ccSupText=new sap.m.Text("scTxt");this.ccSupText.setText(sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("Nodata"));sap.ui.getCore().byId("SCompCodeLayout").removeAllContent();sap.ui.getCore().byId("SDunningLayout").removeAllContent();sap.ui.getCore().byId("SWithhldTaxLayout").removeAllContent();sap.ui.getCore().byId("SCompCodeLayout").addContent(this.ccSupText);}};
