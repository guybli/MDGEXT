/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseDetailController");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Customer");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.BPChange");sap.ca.scfld.md.controller.BaseDetailController.extend("fcg.mdg.approvecrv2.view.GeneralPersonDetail",{extHookModifyPersonDetailFormData:null,extHookModifyPersonStyleClass:null,onInit:function(){var r="";var L="";var t="";var o="";var s="";var d="";this.getView().byId("generalPersonPage").setShowNavButton(true);this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="generalPersonDetail"){fcg.mdg.approvecrv2.util.Formatter.resetFormBolding(this.getView());var D=e.getParameter('arguments').Domain;if(D==='Customer'){s=fcg.mdg.approvecrv2.DomainSpecParts.Customer.getS3Instance();d=s.getDecisions();s.createDecisionButtons(d,this,'navFromDetail');r=fcg.mdg.approvecrv2.DomainSpecParts.Customer.getNavData();}if(D==='Supplier'){s=fcg.mdg.approvecrv2.DomainSpecParts.Supplier.getS3Instance();d=s.getDecisions();s.createDecisionButtons(d,this,'navFromDetail');r=fcg.mdg.approvecrv2.DomainSpecParts.Supplier.getNavData();}var p=fcg.mdg.approvecrv2.util.DataAccess.getObjectKey();this.getView().byId("personDetailHeader").setTitle(p);if(this.extHookModifyPersonDetailFormData){var a=this.extHookModifyPersonDetailFormData(r);if(a!==undefined){r=a;}}var m=new sap.ui.model.json.JSONModel();m.setData(r);var E=this.getView().byId("SimpleFormGeneralPerson");E.setModel(m);if(r.BP_PersonRel.ChangeData.results!==undefined||r.ChangeData.results!==undefined){var S="text_bold";if(this.extHookModifyPersonStyleClass){var n=this.extHookModifyPersonStyleClass(S);if(n!==undefined){S=n;}}var l="";if(r.BP_PersonRel.ChangeData.results.length>0){for(l=0;l<r.BP_PersonRel.ChangeData.results.length;l++){L="lblP"+r.BP_PersonRel.ChangeData.results[l].Attribute;o=this.getView().byId(L);if(o!==undefined){o.setDesign("Bold");}t="P"+r.BP_PersonRel.ChangeData.results[l].Attribute;if(this.getView().byId(t)!==undefined){this.getView().byId(t).addStyleClass(S);}}}if(r.ChangeData.results.length>0){for(l=0;l<r.ChangeData.results.length;l++){L="lblP"+r.ChangeData.results[l].Attribute;o=this.getView().byId(L);if(o!==undefined){o.setDesign("Bold");}t="P"+r.ChangeData.results[l].Attribute;if(this.getView().byId(t)!==undefined){this.getView().byId(t).addStyleClass(S);}}}}this.getView().rerender();}},this);},onAfterRendering:function(){this.hideSection();},hideSection:function(){var p="";if(this.getView().byId("PSEX").getText()===""&&this.getView().byId("PMARITALSTATUS").getText()===""&&this.getView().byId("PBIRTHDATE").getText()===""&&this.getView().byId("PBIRTHPLACE").getText()===""&&this.getView().byId("PCORRESPONDLANGUAGE").getText()===""&&this.getView().byId("PAUTHORIZATIONGROUP").getText()===""&&this.getView().byId("PersonalData")!==undefined){p=this.getView().byId('PersonalData').getId();$('#'+p).hide();}if(this.getView().byId("PTITLE_KEY").getText()===""&&this.getView().byId("PTITLE_ACA1").getText()===""&&this.getView().byId("PFIRSTNAME").getText()===""&&this.getView().byId("PLASTNAME").getText()===""&&this.getView().byId("PTITLELETTER").getText()===""&&this.getView().byId("PSEARCHTERM1").getText()===""&&this.getView().byId("PSEARCHTERM2").getText()===""&&this.getView().byId("PGeneral")!==undefined){p=this.getView().byId('PGeneral').getId();$('#'+p).hide();}}});
