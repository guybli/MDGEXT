/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseDetailController");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Customer");sap.ca.scfld.md.controller.BaseDetailController.extend("fcg.mdg.approvecrv2.view.ERPCustomerDetail",{oresult:"",extHookModifyERPCustDetailFormData:null,extHookModifyERPCustStyleClass:null,onInit:function(){this.getView().byId("erpCustomerPage").setShowNavButton(true);this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="erpCustomerDetail"){var s=fcg.mdg.approvecrv2.DomainSpecParts.Customer.getS3Instance();var d=s.getDecisions();s.createDecisionButtons(d,this,'navFromDetail');fcg.mdg.approvecrv2.util.Formatter.resetFormBolding(this.getView());var E=fcg.mdg.approvecrv2.DomainSpecParts.Customer.oGeneralData[0].data.BP_Root.CU_MultipleAssignmentsRel;var v=e.getParameter('arguments').ChangeKey;var r="";for(var i=0;i<E.results.length;i++){if(E.results[i].ASSIGNMENT_ID===v){r=E.results[i];}}var a=fcg.mdg.approvecrv2.util.DataAccess.getObjectKey();this.getView().byId("erpCustObjectKey").setText(a);var h="";if(!this.isNull(r.CU_AssignedCustomerRel)){if(!this.isNull(r.CU_AssignedCustomerRel.KUNNR)){var k=isNaN(parseInt(r.CU_AssignedCustomerRel.KUNNR))?r.CU_AssignedCustomerRel.KUNNR:parseInt(r.CU_AssignedCustomerRel.KUNNR);h=this.getView().getModel("i18n").getProperty("ERPCustomer")+': '+k;}}if(r.REASON_ID__TXT!==""&&r.REASON_ID__TXT!==undefined){if(h!=="")h=h+", "+this.getView().getModel("i18n").getProperty("Reason")+": "+r.REASON_ID__TXT;else h=this.getView().getModel("i18n").getProperty("Reason")+": "+r.REASON_ID__TXT;}if(!this.isNull(r.CU_AssignedCustomerRel)){if(!this.isNull(r.CU_AssignedCustomerRel.KTOKD)){if(h!=="")h=h+", "+this.getView().getModel("i18n").getProperty("AccountGroup")+': '+r.CU_AssignedCustomerRel.KTOKD__TXT;else h=this.getView().getModel("i18n").getProperty("AccountGroup")+': '+r.CU_AssignedCustomerRel.KTOKD__TXT;}}if(r.STANDARD!==""&&r.STANDARD!==undefined){if(r.STANDARD==='X'){if(h!=="")h=h+", "+this.getView().getModel("i18n").getProperty("Standard");else h=this.getView().getModel("i18n").getProperty("Standard");}}this.getView().byId("erpCustomerObjHeaderDet").setTitle(h);if(this.extHookModifyERPCustDetailFormData){var b=this.extHookModifyERPCustDetailFormData(r);if(b!==undefined){r=b;}}var m=new sap.ui.model.json.JSONModel();m.setData(r);var f=this.getView().byId("SimpleFormControlData");f.setModel(m);this.oresult=r;this.highlight();this.getView().rerender();}},this);},onAfterRendering:function(){this.hideSection();},hideSection:function(){var f="";if(this.getView().byId("REASON_ID").getText()===""&&this.getView().byId("STANDARD").getText()===""&&this.getView().byId("multiassign")!==undefined){var m=this.getView().byId('multiassign').getId();$('#'+m).hide();}if(this.getView().byId("BEGRU").getText()===""&&this.getView().byId("KONZS").getText()===""&&this.getView().byId("VBUND").getText()===""&&this.getView().byId("LIFNR").getText()===""&&this.getView().byId("AccountControl")!==undefined){var a=this.getView().byId('AccountControl').getId();$('#'+a).hide();}if(this.getView().byId("BAHNE").getText()===""&&this.getView().byId("BAHNS").getText()===""&&this.getView().byId("LOCCO").getText()===""&&this.getView().byId("ReferenceData")!==undefined){var r=this.getView().byId('ReferenceData').getId();$('#'+r).hide();}if(this.getView().byId("CITYC").getText()===""&&this.getView().byId("COUNC").getText()===""&&this.getView().byId("FISKN").getText()===""&&this.getView().byId("FITYP").getText()===""&&this.getView().byId("XSUBT").getText()===""&&this.getView().byId("J_1KFTBUS").getText()===""&&this.getView().byId("J_1KFREPRE").getText()===""&&this.getView().byId("STKZU").getText()===""&&this.getView().byId("STKZA").getText()===""&&this.getView().byId("XICMS").getText()===""&&this.getView().byId("XXIPI").getText()===""&&this.getView().byId("CFOPC").getText()===""&&this.getView().byId("J_1KFTIND").getText()===""&&this.getView().byId("SimpleFormTaxInformation")!==undefined){var t=this.getView().byId('SimpleFormTaxInformation').getId();$('#'+t).hide();}if(this.getView().byId("DTAMS").getText()===""&&this.getView().byId("DTAWS").getText()===""&&this.getView().byId("PaymentTransactions")!==undefined){var p=this.getView().byId('PaymentTransactions').getId();$('#'+p).hide();}if(this.getView().byId("XZEMP").getText()===""&&this.getView().byId("KNRZA").getText()===""&&this.getView().byId("AlternativePayer")!==undefined){var b=this.getView().byId('AlternativePayer').getId();$('#'+b).hide();}if(this.getView().byId("NIELS").getText()===""&&this.getView().byId("KUKLA").getText()===""&&this.getView().byId("BRAN1").getText()===""&&this.getView().byId("BRAN2").getText()===""&&this.getView().byId("BRAN3").getText()===""&&this.getView().byId("BRAN4").getText()===""&&this.getView().byId("BRAN5").getText()===""&&this.getView().byId("MarkClassification")!==undefined){var c=this.getView().byId('MarkClassification').getId();$('#'+c).hide();}if((this.getView().byId("UMSA1").getText()==="0.00"||this.getView().byId("UMSA1").getText()==="0,00")&&this.getView().byId("UWAER").getText()===""&&this.getView().byId("UMJAH").getText()==="0000"&&this.getView().byId("JMZAH").getText()==="0"&&this.getView().byId("JMJAH").getText()==="0000"&&this.getView().byId("PERIV").getText()===""&&this.getView().byId("KeyFigures")!==undefined){var k=this.getView().byId('KeyFigures').getId();$('#'+k).hide();}if(this.getView().byId("NIELS").getText()===""&&this.getView().byId("KUKLA").getText()===""&&this.getView().byId("BRAN1").getText()===""&&this.getView().byId("BRAN2").getText()===""&&this.getView().byId("BRAN3").getText()===""&&this.getView().byId("BRAN4").getText()===""&&this.getView().byId("BRAN5").getText()===""&&this.isNull(this.getView().byId("UMSA1").getText())&&this.getView().byId("UWAER").getText()===""&&this.isNull(this.getView().byId("UMJAH").getText())&&this.isNull(this.getView().byId("JMZAH").getText())&&this.isNull(this.getView().byId("JMJAH").getText())&&this.getView().byId("PERIV").getText()===""&&this.getView().byId("SimpleFormMarketing")!==undefined){var d=this.getView().byId('SimpleFormMarketing').getId();$('#'+d).hide();}if(this.getView().byId("CCC01").getText()===""&&this.getView().byId("CCC02").getText()===""&&this.getView().byId("CCC03").getText()===""&&this.getView().byId("CCC04").getText()===""&&this.getView().byId("ExpClassification")!==undefined){var e=this.getView().byId('ExpClassification').getId();$('#'+e).hide();}if(this.getView().byId("CIVVE").getText()===""&&this.getView().byId("MILVE").getText()===""&&this.getView().byId("Usage")!==undefined){var u=this.getView().byId('Usage').getId();$('#'+u).hide();}if(this.getView().byId("CIVVE").getText()===""&&this.getView().byId("MILVE").getText()===""&&this.getView().byId("CCC01").getText()===""&&this.getView().byId("CCC02").getText()===""&&this.getView().byId("CCC03").getText()===""&&this.getView().byId("CCC04").getText()===""&&this.getView().byId("SimpleFormExportData")!==undefined){f=this.getView().byId('SimpleFormExportData').getId();$('#'+f).hide();}if(this.getView().byId("DTAMS").getText()===""&&this.getView().byId("DTAWS").getText()===""&&this.getView().byId("XZEMP").getText()===""&&this.getView().byId("KNRZA").getText()===""&&this.getView().byId("SimpleFormPaymentTransac")!==undefined){var g=this.getView().byId('SimpleFormPaymentTransac').getId();$('#'+g).hide();}if(this.getView().byId("CIVVE").getText()===""&&this.getView().byId("MILVE").getText()===""&&this.getView().byId("CCC01").getText()===""&&this.getView().byId("CCC02").getText()===""&&this.getView().byId("CCC03").getText()===""&&this.getView().byId("CCC04").getText()===""&&this.getView().byId("SimpleFormExportData")!==undefined){f=this.getView().byId('SimpleFormExportData').getId();$('#'+f).hide();}if(this.getView().byId("KATR1").getText()===""&&this.getView().byId("KATR2").getText()===""&&this.getView().byId("KATR3").getText()===""&&this.getView().byId("KATR4").getText()===""&&this.getView().byId("KATR5").getText()===""&&this.getView().byId("KATR6").getText()===""&&this.getView().byId("KATR7").getText()===""&&this.getView().byId("KATR8").getText()===""&&this.getView().byId("KATR9").getText()===""&&this.getView().byId("KATR10").getText()===""&&this.getView().byId("KDKG1").getText()===""&&this.getView().byId("KDKG2").getText()===""&&this.getView().byId("KDKG3").getText()===""&&this.getView().byId("KDKG4").getText()===""&&this.getView().byId("KDKG5").getText()===""&&this.getView().byId("SimpleFormAdditionalData")!==undefined){f=this.getView().byId('SimpleFormAdditionalData').getId();$('#'+f).hide();}if(this.getView().byId("KATR1").getText()===""&&this.getView().byId("KATR2").getText()===""&&this.getView().byId("KATR3").getText()===""&&this.getView().byId("KATR4").getText()===""&&this.getView().byId("KATR5").getText()===""&&this.getView().byId("KATR6").getText()===""&&this.getView().byId("KATR7").getText()===""&&this.getView().byId("KATR8").getText()===""&&this.getView().byId("KATR9").getText()===""&&this.getView().byId("KATR10").getText()===""&&this.getView().byId("Attributes")!==undefined){f=this.getView().byId('Attributes').getId();$('#'+f).hide();}if(this.getView().byId("KDKG1").getText()===""&&this.getView().byId("KDKG2").getText()===""&&this.getView().byId("KDKG3").getText()===""&&this.getView().byId("KDKG4").getText()===""&&this.getView().byId("KDKG5").getText()===""&&this.getView().byId("ConditionGroups")!==undefined){f=this.getView().byId('ConditionGroups').getId();$('#'+f).hide();}},highlight:function(){var s="text_bold";if(this.oresult.ChangeData.results!==undefined&&this.oresult.ChangeData.results!==null){for(var k=0;k<this.oresult.ChangeData.results.length;k++){var c="lbl"+this.oresult.ChangeData.results[k].Attribute;var a=this.getView().byId(c);if(a!==undefined){a.setDesign("Bold");}var b=this.oresult.ChangeData.results[k].Attribute;if(this.getView().byId(b)!==undefined){this.getView().byId(b).addStyleClass(s);}}}if(!this.isNull(this.oresult.CU_AssignedCustomerRel)){if(!this.isNull(this.oresult.CU_AssignedCustomerRel.ChangeData.results)){if(this.oresult.CU_AssignedCustomerRel.ChangeData.results.length>0){if(this.extHookModifyERPCustStyleClass){var n=this.extHookModifyERPCustStyleClass(s);if(n!==undefined){s=n;}}for(var l=0;l<this.oresult.CU_AssignedCustomerRel.ChangeData.results.length;l++){var L="lbl"+this.oresult.CU_AssignedCustomerRel.ChangeData.results[l].Attribute;var o=this.getView().byId(L);if(o!==undefined){o.setDesign("Bold");}var t=this.oresult.CU_AssignedCustomerRel.ChangeData.results[l].Attribute;if(this.getView().byId(t)!==undefined){this.getView().byId(t).addStyleClass(s);}}}}}this.oresult="";},isNull:function(v){return typeof v==="undefined"||v==="unknown"||v===null||v==="null"||v===""||parseInt(v)===0;}});
