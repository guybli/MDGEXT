/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseDetailController");jQuery.sap.require("fcg.mdg.approvecrv2.DomainSpecParts.Customer");jQuery.sap.require("fcg.mdg.approvecrv2.util.DataAccess");jQuery.sap.require("fcg.mdg.approvecrv2.util.Formatter");sap.ca.scfld.md.controller.BaseDetailController.extend("fcg.mdg.approvecrv2.view.IAVDetail",{extHookModifyIAVDetailFormData:null,onInit:function(){var i="";this.getView().byId("IAVPage").setShowNavButton(true);this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="IAVDetail"){fcg.mdg.approvecrv2.util.Formatter.resetFormBolding(this.getView());var I=fcg.mdg.approvecrv2.util.DataAccess.getObjectKey();this.getView().byId("IAVAttrParentHeader").setText(I);var d=e.getParameter('arguments').Domain;var s=fcg.mdg.approvecrv2.DomainSpecParts[d].getS3Instance();var D=s.getDecisions();s.createDecisionButtons(D,this,'navFromDetail');var r=fcg.mdg.approvecrv2.DomainSpecParts[d].getData('General');var p=r[0].data.BP_Root.BP_AddressesRel;var a=e.getParameter('arguments').AddressId;var P='';for(i=0;i<p.results.length;i++){if(p.results[i].AD_ID===a){P=p.results[i];}}var A="";var v=e.getParameter('arguments').AddressVersion;var b=P.BP_AddressVersionsOrgRel;A="";for(i=0;i<b.results.length;i++){if(b.results[i].AD_ID===a&&b.results[i].ADDR_VERS===v){A=b.results[i];}}var c=this.getView().getModel("i18n").getProperty("CC_ADDRESS")+": "+P.AD_ID__TXT;var f=this.getView().getModel("i18n").getProperty("IAVTitle")+": "+A.ADDR_VERS__TXT;this.getView().byId("IAVDetailHeader").setTitle(f);this.getView().byId("IAVAttrHeader").setText(c);var g=A;if(this.extHookModifyIAVDetailFormData){var h=this.extHookModifyIAVDetailFormData(g);if(h!==undefined){g=h;}}var m=new sap.ui.model.json.JSONModel();m.setData(g);var E=this.getView().byId("SimpleFormIAV");E.setModel(m);if(A.ChangeData.results!==undefined&&A.ChangeData.results!==null){if(A.ChangeData.results.length>0){var S="text_bold";for(var l=0;l<A.ChangeData.results.length;l++){var L="lbl"+A.ChangeData.results[l].Attribute;var o=this.getView().byId(L);if(o!==undefined){o.setDesign("Bold");}var t=A.ChangeData.results[l].Attribute;if(this.getView().byId(t)!==undefined){this.getView().byId(t).addStyleClass(S);}}}}this.getView().rerender();}},this);},onAfterRendering:function(){this.handleSectionVisibility();},handleSectionVisibility:function(){if(this.getView().byId('TITLE').getText()===""&&this.getView().byId('NAME').getText()===""&&this.getView().byId('NAME_2').getText()===""&&this.getView().byId('SORT1').getText()===""&&this.getView().byId('SORT2').getText()===""){var s=this.getView().byId("SimpleFormIAV");var i=this.getView().byId('IAV_Sect3');s.removeContent(i);}if(this.getView().byId('STREET').getText()===""&&this.getView().byId('HOUSE_NO').getText()===""&&this.getView().byId('CITY').getText()===""){var I=this.getView().byId('IAV_Sect4').getId();$('#'+I).hide();}}});
